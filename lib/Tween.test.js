import _extends from "@babel/runtime/helpers/extends";
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

import Tween from './Tween';
describe('Tween', function () {
  var oldNow = Date.now;
  var nowFn = jest.fn();
  var oldSetTimeout = window.setTimeout;
  var setTimeoutFn = jest.fn();
  var oldRaf = window.requestAnimationFrame;
  var rafFn = jest.fn();
  var baseOptions = {
    duration: 10,
    from: 0,
    to: 1
  };
  jest.useFakeTimers();
  jest.spyOn(global, 'setTimeout');
  Date.now = nowFn;
  window.requestAnimationFrame = rafFn;
  beforeEach(function () {
    nowFn.mockReset();
    nowFn.mockReturnValue(0);
    setTimeoutFn.mockReset();
    rafFn.mockReset();
  });
  afterAll(function () {
    Date.now = oldNow;
    window.setTimeout = oldSetTimeout;
    window.requestAnimationFrame = oldRaf;
  });
  describe('ctor', function () {
    it('set startTime to the current time', function () {
      var n = Math.random();
      nowFn.mockReturnValue(n);
      var tween = new Tween(baseOptions);
      expect(tween.startTime).toBe(n);
    });
    it('adds delay to the startTime', function () {
      var n = Math.random();
      nowFn.mockReturnValue(n);
      var tween = new Tween(_extends({}, baseOptions, {
        delay: 10
      }));
      expect(tween.startTime).toBe(n + 10);
    });
    describe('with callbacks', function () {
      it('schedules setTimeout if there is a delay', function () {
        var delay = 10;
        var tween = new Tween(_extends({}, baseOptions, {
          delay: delay,
          onUpdate: jest.fn()
        }));
        expect(setTimeout).lastCalledWith(tween._frameCallback, delay);
      });
      it('schedules animation frame if there is not a delay', function () {
        var tween = new Tween(_extends({}, baseOptions, {
          onUpdate: jest.fn()
        }));
        expect(rafFn).lastCalledWith(tween._frameCallback);
      });
    });
  });
  describe('getCurrent()', function () {
    it('returns `{done: false, value: from}` when time is before the delay is finished', function () {
      var tween = new Tween(_extends({}, baseOptions, {
        delay: 1
      }));
      var current = tween.getCurrent();
      expect(current).toEqual({
        done: false,
        value: baseOptions.from
      });
    });
    describe('in progress tweens', function () {
      it('returns `{done: false...`}', function () {
        var tween = new Tween(baseOptions);
        nowFn.mockReturnValue(1);
        var current = tween.getCurrent();
        expect(current.done).toBe(false);
        expect(nowFn()).toBeLessThan(tween.startTime + tween.duration);
        expect(nowFn()).toBeGreaterThan(tween.startTime);
      });
      it('progresses `{..., value} as time progresses', function () {
        var tween = new Tween(baseOptions);
        var lastValue = tween.getCurrent().value;
        for (var i = 1; i < baseOptions.duration; i++) {
          nowFn.mockReturnValue(i);
          var _tween$getCurrent = tween.getCurrent(),
            done = _tween$getCurrent.done,
            value = _tween$getCurrent.value;
          expect(done).toBe(false);
          expect(value).toBeGreaterThan(lastValue);
          lastValue = value;
        }
      });
    });
    it('returns `{done: true, value: to}` when the time is past the duration', function () {
      var tween = new Tween(baseOptions);
      nowFn.mockReturnValue(baseOptions.duration);
      var current = tween.getCurrent();
      expect(current).toEqual({
        done: true,
        value: baseOptions.to
      });
    });
  });
  describe('_frameCallback', function () {
    it('freezes the callback argument', function () {
      var current;
      var fn = jest.fn(function (_current) {
        current = _current;
      });
      var tween = new Tween(_extends({}, baseOptions, {
        onUpdate: fn
      }));
      tween._frameCallback();
      expect(current).toBeDefined();
      var copy = _extends({}, current);
      try {
        current.done = !current.done;
        // eslint-disable-next-line no-empty
      } catch (_) {}
      expect(current).toEqual(copy);
    });
    it('calls onUpdate if there is an onUpdate callback', function () {
      var fn = jest.fn();
      var tween = new Tween(_extends({}, baseOptions, {
        onUpdate: fn
      }));
      tween._frameCallback();
      var current = tween.getCurrent();
      expect(current).toBeDefined();
      expect(fn).lastCalledWith(current);
    });
    it('does not call onComplete if there is an onComplete callback and the tween is not complete', function () {
      var fn = jest.fn();
      var tween = new Tween(_extends({}, baseOptions, {
        onComplete: fn
      }));
      tween._frameCallback();
      expect(fn.mock.calls.length).toBe(0);
    });
    it('calls onComplete if there is an onComplete callback and the tween is complete', function () {
      var fn = jest.fn();
      var tween = new Tween(_extends({}, baseOptions, {
        onComplete: fn
      }));
      nowFn.mockReturnValue(nowFn() + baseOptions.duration);
      tween._frameCallback();
      var current = tween.getCurrent();
      expect(fn.mock.calls).toEqual([[current]]);
      expect(current.done).toBe(true);
    });
    it('schedules an animatinon frame if the tween is not complete', function () {
      expect(rafFn.mock.calls.length).toBe(0);
      var tween = new Tween(_extends({}, baseOptions, {
        onUpdate: function onUpdate() {}
      }));
      nowFn.mockReturnValue(nowFn() + 0.5 * baseOptions.duration);
      rafFn.mockReset();
      tween._frameCallback();
      expect(rafFn.mock.calls).toEqual([[tween._frameCallback]]);
    });
  });
  describe('cancel()', function () {
    it('cancels scheduled timeouts or animation frames', function () {
      var oldClearTimeout = window.clearTimeout;
      var oldCancelRaf = window.cancelAnimationFrame;
      var clearFn = jest.fn();
      window.clearTimeout = clearFn;
      var cancelFn = jest.fn();
      window.cancelAnimationFrame = cancelFn;
      var tween = new Tween(baseOptions);
      var id = 1;
      tween.timeoutID = id;
      tween.requestID = id;
      tween.cancel();
      expect(clearFn.mock.calls).toEqual([[id]]);
      expect(cancelFn.mock.calls).toEqual([[id]]);
      expect(tween.timeoutID).toBe(undefined);
      expect(tween.requestID).toBe(undefined);
      window.clearTimeout = oldClearTimeout;
      window.cancelAnimationFrame = oldCancelRaf;
    });
    it('releases references to callbacks', function () {
      var tween = new Tween(_extends({}, baseOptions, {
        onComplete: function onComplete() {},
        onUpdate: function onUpdate() {}
      }));
      tween.cancel();
      expect(tween.onComplete).toBe(undefined);
      expect(tween.onUpdate).toBe(undefined);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUd2VlbiIsImRlc2NyaWJlIiwib2xkTm93IiwiRGF0ZSIsIm5vdyIsIm5vd0ZuIiwiamVzdCIsImZuIiwib2xkU2V0VGltZW91dCIsIndpbmRvdyIsInNldFRpbWVvdXQiLCJzZXRUaW1lb3V0Rm4iLCJvbGRSYWYiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyYWZGbiIsImJhc2VPcHRpb25zIiwiZHVyYXRpb24iLCJmcm9tIiwidG8iLCJ1c2VGYWtlVGltZXJzIiwic3B5T24iLCJnbG9iYWwiLCJiZWZvcmVFYWNoIiwibW9ja1Jlc2V0IiwibW9ja1JldHVyblZhbHVlIiwiYWZ0ZXJBbGwiLCJpdCIsIm4iLCJNYXRoIiwicmFuZG9tIiwidHdlZW4iLCJleHBlY3QiLCJzdGFydFRpbWUiLCJ0b0JlIiwiX2V4dGVuZHMiLCJkZWxheSIsIm9uVXBkYXRlIiwibGFzdENhbGxlZFdpdGgiLCJfZnJhbWVDYWxsYmFjayIsImN1cnJlbnQiLCJnZXRDdXJyZW50IiwidG9FcXVhbCIsImRvbmUiLCJ2YWx1ZSIsInRvQmVMZXNzVGhhbiIsInRvQmVHcmVhdGVyVGhhbiIsImxhc3RWYWx1ZSIsImkiLCJfdHdlZW4kZ2V0Q3VycmVudCIsIl9jdXJyZW50IiwidG9CZURlZmluZWQiLCJjb3B5IiwiXyIsIm9uQ29tcGxldGUiLCJtb2NrIiwiY2FsbHMiLCJsZW5ndGgiLCJvbGRDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJvbGRDYW5jZWxSYWYiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNsZWFyRm4iLCJjYW5jZWxGbiIsImlkIiwidGltZW91dElEIiwicmVxdWVzdElEIiwiY2FuY2VsIiwidW5kZWZpbmVkIl0sInNvdXJjZXMiOlsiLi4vc3JjL1R3ZWVuLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDE3IFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCBUd2VlbiwgeyBUd2VlblN0YXRlIH0gZnJvbSAnLi9Ud2Vlbic7XG5cbmRlc2NyaWJlKCdUd2VlbicsICgpID0+IHtcbiAgY29uc3Qgb2xkTm93ID0gRGF0ZS5ub3c7XG4gIGNvbnN0IG5vd0ZuID0gamVzdC5mbigpO1xuICBjb25zdCBvbGRTZXRUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQ7XG4gIGNvbnN0IHNldFRpbWVvdXRGbiA9IGplc3QuZm4oKTtcbiAgY29uc3Qgb2xkUmFmID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgY29uc3QgcmFmRm4gPSBqZXN0LmZuKCk7XG5cbiAgY29uc3QgYmFzZU9wdGlvbnMgPSB7IGR1cmF0aW9uOiAxMCwgZnJvbTogMCwgdG86IDEgfTtcblxuICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgamVzdC5zcHlPbihnbG9iYWwsICdzZXRUaW1lb3V0Jyk7XG5cbiAgRGF0ZS5ub3cgPSBub3dGbjtcbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJhZkZuO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG5vd0ZuLm1vY2tSZXNldCgpO1xuICAgIG5vd0ZuLm1vY2tSZXR1cm5WYWx1ZSgwKTtcbiAgICBzZXRUaW1lb3V0Rm4ubW9ja1Jlc2V0KCk7XG4gICAgcmFmRm4ubW9ja1Jlc2V0KCk7XG4gIH0pO1xuXG4gIGFmdGVyQWxsKCgpID0+IHtcbiAgICBEYXRlLm5vdyA9IG9sZE5vdztcbiAgICB3aW5kb3cuc2V0VGltZW91dCA9IG9sZFNldFRpbWVvdXQ7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IG9sZFJhZjtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2N0b3InLCAoKSA9PiB7XG4gICAgaXQoJ3NldCBzdGFydFRpbWUgdG8gdGhlIGN1cnJlbnQgdGltZScsICgpID0+IHtcbiAgICAgIGNvbnN0IG4gPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgbm93Rm4ubW9ja1JldHVyblZhbHVlKG4pO1xuICAgICAgY29uc3QgdHdlZW4gPSBuZXcgVHdlZW4oYmFzZU9wdGlvbnMpO1xuICAgICAgZXhwZWN0KHR3ZWVuLnN0YXJ0VGltZSkudG9CZShuKTtcbiAgICB9KTtcblxuICAgIGl0KCdhZGRzIGRlbGF5IHRvIHRoZSBzdGFydFRpbWUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBuID0gTWF0aC5yYW5kb20oKTtcbiAgICAgIG5vd0ZuLm1vY2tSZXR1cm5WYWx1ZShuKTtcbiAgICAgIGNvbnN0IHR3ZWVuID0gbmV3IFR3ZWVuKHsgLi4uYmFzZU9wdGlvbnMsIGRlbGF5OiAxMCB9KTtcbiAgICAgIGV4cGVjdCh0d2Vlbi5zdGFydFRpbWUpLnRvQmUobiArIDEwKTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCd3aXRoIGNhbGxiYWNrcycsICgpID0+IHtcbiAgICAgIGl0KCdzY2hlZHVsZXMgc2V0VGltZW91dCBpZiB0aGVyZSBpcyBhIGRlbGF5JywgKCkgPT4ge1xuICAgICAgICBjb25zdCBkZWxheSA9IDEwO1xuICAgICAgICBjb25zdCB0d2VlbiA9IG5ldyBUd2Vlbih7IC4uLmJhc2VPcHRpb25zLCBkZWxheSwgb25VcGRhdGU6IGplc3QuZm4oKSB9KTtcbiAgICAgICAgZXhwZWN0KHNldFRpbWVvdXQpLmxhc3RDYWxsZWRXaXRoKHR3ZWVuLl9mcmFtZUNhbGxiYWNrLCBkZWxheSk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3NjaGVkdWxlcyBhbmltYXRpb24gZnJhbWUgaWYgdGhlcmUgaXMgbm90IGEgZGVsYXknLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR3ZWVuID0gbmV3IFR3ZWVuKHsgLi4uYmFzZU9wdGlvbnMsIG9uVXBkYXRlOiBqZXN0LmZuKCkgfSk7XG4gICAgICAgIGV4cGVjdChyYWZGbikubGFzdENhbGxlZFdpdGgodHdlZW4uX2ZyYW1lQ2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRDdXJyZW50KCknLCAoKSA9PiB7XG4gICAgaXQoJ3JldHVybnMgYHtkb25lOiBmYWxzZSwgdmFsdWU6IGZyb219YCB3aGVuIHRpbWUgaXMgYmVmb3JlIHRoZSBkZWxheSBpcyBmaW5pc2hlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHR3ZWVuID0gbmV3IFR3ZWVuKHsgLi4uYmFzZU9wdGlvbnMsIGRlbGF5OiAxIH0pO1xuICAgICAgY29uc3QgY3VycmVudCA9IHR3ZWVuLmdldEN1cnJlbnQoKTtcbiAgICAgIGV4cGVjdChjdXJyZW50KS50b0VxdWFsKHsgZG9uZTogZmFsc2UsIHZhbHVlOiBiYXNlT3B0aW9ucy5mcm9tIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2luIHByb2dyZXNzIHR3ZWVucycsICgpID0+IHtcbiAgICAgIGl0KCdyZXR1cm5zIGB7ZG9uZTogZmFsc2UuLi5gfScsICgpID0+IHtcbiAgICAgICAgY29uc3QgdHdlZW4gPSBuZXcgVHdlZW4oYmFzZU9wdGlvbnMpO1xuICAgICAgICBub3dGbi5tb2NrUmV0dXJuVmFsdWUoMSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0d2Vlbi5nZXRDdXJyZW50KCk7XG4gICAgICAgIGV4cGVjdChjdXJyZW50LmRvbmUpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3Qobm93Rm4oKSkudG9CZUxlc3NUaGFuKHR3ZWVuLnN0YXJ0VGltZSArIHR3ZWVuLmR1cmF0aW9uKTtcbiAgICAgICAgZXhwZWN0KG5vd0ZuKCkpLnRvQmVHcmVhdGVyVGhhbih0d2Vlbi5zdGFydFRpbWUpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdwcm9ncmVzc2VzIGB7Li4uLCB2YWx1ZX0gYXMgdGltZSBwcm9ncmVzc2VzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB0d2VlbiA9IG5ldyBUd2VlbihiYXNlT3B0aW9ucyk7XG4gICAgICAgIGxldCBsYXN0VmFsdWUgPSB0d2Vlbi5nZXRDdXJyZW50KCkudmFsdWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYmFzZU9wdGlvbnMuZHVyYXRpb247IGkrKykge1xuICAgICAgICAgIG5vd0ZuLm1vY2tSZXR1cm5WYWx1ZShpKTtcbiAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSB0d2Vlbi5nZXRDdXJyZW50KCk7XG4gICAgICAgICAgZXhwZWN0KGRvbmUpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZSkudG9CZUdyZWF0ZXJUaGFuKGxhc3RWYWx1ZSk7XG4gICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgYHtkb25lOiB0cnVlLCB2YWx1ZTogdG99YCB3aGVuIHRoZSB0aW1lIGlzIHBhc3QgdGhlIGR1cmF0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgdHdlZW4gPSBuZXcgVHdlZW4oYmFzZU9wdGlvbnMpO1xuICAgICAgbm93Rm4ubW9ja1JldHVyblZhbHVlKGJhc2VPcHRpb25zLmR1cmF0aW9uKTtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSB0d2Vlbi5nZXRDdXJyZW50KCk7XG4gICAgICBleHBlY3QoY3VycmVudCkudG9FcXVhbCh7IGRvbmU6IHRydWUsIHZhbHVlOiBiYXNlT3B0aW9ucy50byB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ19mcmFtZUNhbGxiYWNrJywgKCkgPT4ge1xuICAgIGl0KCdmcmVlemVzIHRoZSBjYWxsYmFjayBhcmd1bWVudCcsICgpID0+IHtcbiAgICAgIGxldCBjdXJyZW50OiBUd2VlblN0YXRlIHwgdW5kZWZpbmVkO1xuICAgICAgY29uc3QgZm4gPSBqZXN0LmZuKChfY3VycmVudCkgPT4ge1xuICAgICAgICBjdXJyZW50ID0gX2N1cnJlbnQ7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHR3ZWVuID0gbmV3IFR3ZWVuKHsgLi4uYmFzZU9wdGlvbnMsIG9uVXBkYXRlOiBmbiB9KTtcbiAgICAgIHR3ZWVuLl9mcmFtZUNhbGxiYWNrKCk7XG4gICAgICBleHBlY3QoY3VycmVudCkudG9CZURlZmluZWQoKTtcbiAgICAgIGNvbnN0IGNvcHkgPSB7IC4uLmN1cnJlbnQgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGN1cnJlbnQhLmRvbmUgPSAhY3VycmVudCEuZG9uZTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgICB9IGNhdGNoIChfKSB7fVxuICAgICAgZXhwZWN0KGN1cnJlbnQpLnRvRXF1YWwoY29weSk7XG4gICAgfSk7XG5cbiAgICBpdCgnY2FsbHMgb25VcGRhdGUgaWYgdGhlcmUgaXMgYW4gb25VcGRhdGUgY2FsbGJhY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBmbiA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHR3ZWVuID0gbmV3IFR3ZWVuKHsgLi4uYmFzZU9wdGlvbnMsIG9uVXBkYXRlOiBmbiB9KTtcbiAgICAgIHR3ZWVuLl9mcmFtZUNhbGxiYWNrKCk7XG4gICAgICBjb25zdCBjdXJyZW50ID0gdHdlZW4uZ2V0Q3VycmVudCgpO1xuICAgICAgZXhwZWN0KGN1cnJlbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZm4pLmxhc3RDYWxsZWRXaXRoKGN1cnJlbnQpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RvZXMgbm90IGNhbGwgb25Db21wbGV0ZSBpZiB0aGVyZSBpcyBhbiBvbkNvbXBsZXRlIGNhbGxiYWNrIGFuZCB0aGUgdHdlZW4gaXMgbm90IGNvbXBsZXRlJywgKCkgPT4ge1xuICAgICAgY29uc3QgZm4gPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCB0d2VlbiA9IG5ldyBUd2Vlbih7IC4uLmJhc2VPcHRpb25zLCBvbkNvbXBsZXRlOiBmbiB9KTtcbiAgICAgIHR3ZWVuLl9mcmFtZUNhbGxiYWNrKCk7XG4gICAgICBleHBlY3QoZm4ubW9jay5jYWxscy5sZW5ndGgpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnY2FsbHMgb25Db21wbGV0ZSBpZiB0aGVyZSBpcyBhbiBvbkNvbXBsZXRlIGNhbGxiYWNrIGFuZCB0aGUgdHdlZW4gaXMgY29tcGxldGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBmbiA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHR3ZWVuID0gbmV3IFR3ZWVuKHsgLi4uYmFzZU9wdGlvbnMsIG9uQ29tcGxldGU6IGZuIH0pO1xuICAgICAgbm93Rm4ubW9ja1JldHVyblZhbHVlKG5vd0ZuKCkgKyBiYXNlT3B0aW9ucy5kdXJhdGlvbik7XG4gICAgICB0d2Vlbi5fZnJhbWVDYWxsYmFjaygpO1xuICAgICAgY29uc3QgY3VycmVudCA9IHR3ZWVuLmdldEN1cnJlbnQoKTtcbiAgICAgIGV4cGVjdChmbi5tb2NrLmNhbGxzKS50b0VxdWFsKFtbY3VycmVudF1dKTtcbiAgICAgIGV4cGVjdChjdXJyZW50LmRvbmUpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2NoZWR1bGVzIGFuIGFuaW1hdGlub24gZnJhbWUgaWYgdGhlIHR3ZWVuIGlzIG5vdCBjb21wbGV0ZScsICgpID0+IHtcbiAgICAgIGV4cGVjdChyYWZGbi5tb2NrLmNhbGxzLmxlbmd0aCkudG9CZSgwKTtcbiAgICAgIGNvbnN0IHR3ZWVuID0gbmV3IFR3ZWVuKHsgLi4uYmFzZU9wdGlvbnMsIG9uVXBkYXRlOiAoKSA9PiB7fSB9KTtcbiAgICAgIG5vd0ZuLm1vY2tSZXR1cm5WYWx1ZShub3dGbigpICsgMC41ICogYmFzZU9wdGlvbnMuZHVyYXRpb24pO1xuICAgICAgcmFmRm4ubW9ja1Jlc2V0KCk7XG4gICAgICB0d2Vlbi5fZnJhbWVDYWxsYmFjaygpO1xuICAgICAgZXhwZWN0KHJhZkZuLm1vY2suY2FsbHMpLnRvRXF1YWwoW1t0d2Vlbi5fZnJhbWVDYWxsYmFja11dKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NhbmNlbCgpJywgKCkgPT4ge1xuICAgIGl0KCdjYW5jZWxzIHNjaGVkdWxlZCB0aW1lb3V0cyBvciBhbmltYXRpb24gZnJhbWVzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgb2xkQ2xlYXJUaW1lb3V0ID0gd2luZG93LmNsZWFyVGltZW91dDtcbiAgICAgIGNvbnN0IG9sZENhbmNlbFJhZiA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZTtcbiAgICAgIGNvbnN0IGNsZWFyRm4gPSBqZXN0LmZuKCk7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0ID0gY2xlYXJGbjtcbiAgICAgIGNvbnN0IGNhbmNlbEZuID0gamVzdC5mbigpO1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gY2FuY2VsRm47XG5cbiAgICAgIGNvbnN0IHR3ZWVuID0gbmV3IFR3ZWVuKGJhc2VPcHRpb25zKTtcbiAgICAgIGNvbnN0IGlkID0gMTtcbiAgICAgIHR3ZWVuLnRpbWVvdXRJRCA9IGlkO1xuICAgICAgdHdlZW4ucmVxdWVzdElEID0gaWQ7XG4gICAgICB0d2Vlbi5jYW5jZWwoKTtcbiAgICAgIGV4cGVjdChjbGVhckZuLm1vY2suY2FsbHMpLnRvRXF1YWwoW1tpZF1dKTtcbiAgICAgIGV4cGVjdChjYW5jZWxGbi5tb2NrLmNhbGxzKS50b0VxdWFsKFtbaWRdXSk7XG4gICAgICBleHBlY3QodHdlZW4udGltZW91dElEKS50b0JlKHVuZGVmaW5lZCk7XG4gICAgICBleHBlY3QodHdlZW4ucmVxdWVzdElEKS50b0JlKHVuZGVmaW5lZCk7XG5cbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQgPSBvbGRDbGVhclRpbWVvdXQ7XG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBvbGRDYW5jZWxSYWY7XG4gICAgfSk7XG5cbiAgICBpdCgncmVsZWFzZXMgcmVmZXJlbmNlcyB0byBjYWxsYmFja3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0d2VlbiA9IG5ldyBUd2Vlbih7IC4uLmJhc2VPcHRpb25zLCBvbkNvbXBsZXRlOiAoKSA9PiB7fSwgb25VcGRhdGU6ICgpID0+IHt9IH0pO1xuICAgICAgdHdlZW4uY2FuY2VsKCk7XG4gICAgICBleHBlY3QodHdlZW4ub25Db21wbGV0ZSkudG9CZSh1bmRlZmluZWQpO1xuICAgICAgZXhwZWN0KHR3ZWVuLm9uVXBkYXRlKS50b0JlKHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxLQUFLLE1BQXNCLFNBQVM7QUFFM0NDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsWUFBTTtFQUN0QixJQUFNQyxNQUFNLEdBQUdDLElBQUksQ0FBQ0MsR0FBRztFQUN2QixJQUFNQyxLQUFLLEdBQUdDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDdkIsSUFBTUMsYUFBYSxHQUFHQyxNQUFNLENBQUNDLFVBQVU7RUFDdkMs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