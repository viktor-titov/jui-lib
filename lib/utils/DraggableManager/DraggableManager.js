import _objectWithoutPropertiesLoose from "@babel/runtime/helpers/objectWithoutPropertiesLoose";
var _excluded = ["getBounds", "tag", "resetBoundsOnResize"];
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

import { get as _get } from 'lodash';
import EUpdateTypes from './EUpdateTypes';
var LEFT_MOUSE_BUTTON = 0;
var DraggableManager = /*#__PURE__*/function () {
  // cache the last known DraggableBounds (invalidate via `#resetBounds())

  // optional callbacks for various dragging events

  // whether to reset the bounds on window resize

  /**
   * Get the `DraggableBounds` for the current drag. The returned value is
   * cached until either `#resetBounds()` is called or the window is resized
   * (assuming `_resetBoundsOnResize` is `true`). The `DraggableBounds` defines
   * the range the current drag can span to. It also establishes the left offset
   * to adjust `clientX` by (from the `MouseEvent`s).
   */

  // convenience data

  // handlers for integration with DOM elements

  function DraggableManager(_ref) {
    var _this = this;
    var getBounds = _ref.getBounds,
      tag = _ref.tag,
      _ref$resetBoundsOnRes = _ref.resetBoundsOnResize,
      resetBoundsOnResize = _ref$resetBoundsOnRes === void 0 ? true : _ref$resetBoundsOnRes,
      rest = _objectWithoutPropertiesLoose(_ref, _excluded);
    this.resetBounds = function () {
      _this._bounds = undefined;
    };
    this._handleMinorMouseEvent = function (event) {
      var button = event.button,
        clientX = event.clientX,
        eventType = event.type;
      if (_this._isDragging || button !== LEFT_MOUSE_BUTTON) {
        return;
      }
      var type = null;
      var handler;
      if (eventType === 'mouseenter') {
        type = EUpdateTypes.MouseEnter;
        handler = _this._onMouseEnter;
      } else if (eventType === 'mouseleave') {
        type = EUpdateTypes.MouseLeave;
        handler = _this._onMouseLeave;
      } else if (eventType === 'mousemove') {
        type = EUpdateTypes.MouseMove;
        handler = _this._onMouseMove;
      } else {
        throw new Error("invalid event type: " + eventType);
      }
      if (!handler) {
        return;
      }
      var _this$_getPosition = _this._getPosition(clientX),
        value = _this$_getPosition.value,
        x = _this$_getPosition.x;
      handler({
        event: event,
        type: type,
        value: value,
        x: x,
        manager: _this,
        tag: _this.tag
      });
    };
    this._handleDragEvent = function (event) {
      var button = event.button,
        clientX = event.clientX,
        eventType = event.type;
      var type = null;
      var handler;
      if (eventType === 'mousedown') {
        if (_this._isDragging || button !== LEFT_MOUSE_BUTTON) {
          return;
        }
        window.addEventListener('mousemove', _this._handleDragEvent);
        window.addEventListener('mouseup', _this._handleDragEvent);
        var style = _get(document, 'body.style');
        if (style) {
          style.userSelect = 'none';
        }
        _this._isDragging = true;
        type = EUpdateTypes.DragStart;
        handler = _this._onDragStart;
      } else if (eventType === 'mousemove') {
        if (!_this._isDragging) {
          return;
        }
        type = EUpdateTypes.DragMove;
        handler = _this._onDragMove;
      } else if (eventType === 'mouseup') {
        if (!_this._isDragging) {
          return;
        }
        _this._stopDragging();
        type = EUpdateTypes.DragEnd;
        handler = _this._onDragEnd;
      } else {
        throw new Error("invalid event type: " + eventType);
      }
      if (!handler) {
        return;
      }
      var _this$_getPosition2 = _this._getPosition(clientX),
        value = _this$_getPosition2.value,
        x = _this$_getPosition2.x;
      handler({
        event: event,
        type: type,
        value: value,
        x: x,
        manager: _this,
        tag: _this.tag
      });
    };
    this.handleMouseDown = this._handleDragEvent;
    this.handleMouseEnter = this._handleMinorMouseEvent;
    this.handleMouseMove = this._handleMinorMouseEvent;
    this.handleMouseLeave = this._handleMinorMouseEvent;
    this.getBounds = getBounds;
    this.tag = tag;
    this._isDragging = false;
    this._bounds = undefined;
    this._resetBoundsOnResize = Boolean(resetBoundsOnResize);
    if (this._resetBoundsOnResize) {
      window.addEventListener('resize', this.resetBounds);
    }
    this._onMouseEnter = rest.onMouseEnter;
    this._onMouseLeave = rest.onMouseLeave;
    this._onMouseMove = rest.onMouseMove;
    this._onDragStart = rest.onDragStart;
    this._onDragMove = rest.onDragMove;
    this._onDragEnd = rest.onDragEnd;
  }
  var _proto = DraggableManager.prototype;
  _proto._getBounds = function _getBounds() {
    if (!this._bounds) {
      this._bounds = this.getBounds(this.tag);
    }
    return this._bounds;
  };
  _proto._getPosition = function _getPosition(clientX) {
    var _this$_getBounds = this._getBounds(),
      clientXLeft = _this$_getBounds.clientXLeft,
      maxValue = _this$_getBounds.maxValue,
      minValue = _this$_getBounds.minValue,
      width = _this$_getBounds.width;
    var x = clientX - clientXLeft;
    var value = x / width;
    if (minValue != null && value < minValue) {
      value = minValue;
      x = minValue * width;
    } else if (maxValue != null && value > maxValue) {
      value = maxValue;
      x = maxValue * width;
    }
    return {
      value: value,
      x: x
    };
  };
  _proto._stopDragging = function _stopDragging() {
    window.removeEventListener('mousemove', this._handleDragEvent);
    window.removeEventListener('mouseup', this._handleDragEvent);
    var style = _get(document, 'body.style');
    if (style) {
      style.userSelect = 'auto';
    }
    this._isDragging = false;
  };
  _proto.isDragging = function isDragging() {
    return this._isDragging;
  };
  _proto.dispose = function dispose() {
    if (this._isDragging) {
      this._stopDragging();
    }
    if (this._resetBoundsOnResize) {
      window.removeEventListener('resize', this.resetBounds);
    }
    this._bounds = undefined;
    this._onMouseEnter = undefined;
    this._onMouseLeave = undefined;
    this._onMouseMove = undefined;
    this._onDragStart = undefined;
    this._onDragMove = undefined;
    this._onDragEnd = undefined;
  };
  return DraggableManager;
}();
export { DraggableManager as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXQiLCJfZ2V0IiwiRVVwZGF0ZVR5cGVzIiwiTEVGVF9NT1VTRV9CVVRUT04iLCJEcmFnZ2FibGVNYW5hZ2VyIiwiX3JlZiIsIl90aGlzIiwiZ2V0Qm91bmRzIiwidGFnIiwiX3JlZiRyZXNldEJvdW5kc09uUmVzIiwicmVzZXRCb3VuZHNPblJlc2l6ZSIsInJlc3QiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsIl9leGNsdWRlZCIsInJlc2V0Qm91bmRzIiwiX2JvdW5kcyIsInVuZGVmaW5lZCIsIl9oYW5kbGVNaW5vck1vdXNlRXZlbnQiLCJldmVudCIsImJ1dHRvbiIsImNsaWVudFgiLCJldmVudFR5cGUiLCJ0eXBlIiwiX2lzRHJhZ2dpbmciLCJoYW5kbGVyIiwiTW91c2VFbnRlciIsIl9vbk1vdXNlRW50ZXIiLCJNb3VzZUxlYXZlIiwiX29uTW91c2VMZWF2ZSIsIk1vdXNlTW92ZSIsIl9vbk1vdXNlTW92ZSIsIkVycm9yIiwiX3RoaXMkX2dldFBvc2l0aW9uIiwiX2dldFBvc2l0aW9uIiwidmFsdWUiLCJ4IiwibWFuYWdlciIsIl9oYW5kbGVEcmFnRXZlbnQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwic3R5bGUiLCJkb2N1bWVudCIsInVzZXJTZWxlY3QiLCJEcmFnU3RhcnQiLCJfb25EcmFnU3RhcnQiLCJEcmFnTW92ZSIsIl9vbkRyYWdNb3ZlIiwiX3N0b3BEcmFnZ2luZyIsIkRyYWdFbmQiLCJfb25EcmFnRW5kIiwiX3RoaXMkX2dldFBvc2l0aW9uMiIsImhhbmRsZU1vdXNlRG93biIsImhhbmRsZU1vdXNlRW50ZXIiLCJoYW5kbGVNb3VzZU1vdmUiLCJoYW5kbGVNb3VzZUxlYXZlIiwiX3Jlc2V0Qm91bmRzT25SZXNpemUiLCJCb29sZWFuIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwib25Nb3VzZU1vdmUiLCJvbkRyYWdTdGFydCIsIm9uRHJhZ01vdmUiLCJvbkRyYWdFbmQiLCJfcHJvdG8iLCJwcm90b3R5cGUiLCJfZ2V0Qm91bmRzIiwiX3RoaXMkX2dldEJvdW5kcyIsImNsaWVudFhMZWZ0IiwibWF4VmFsdWUiLCJtaW5WYWx1ZSIsIndpZHRoIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzRHJhZ2dpbmciLCJkaXNwb3NlIiwiZGVmYXVsdCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy91dGlscy9EcmFnZ2FibGVNYW5hZ2VyL0RyYWdnYWJsZU1hbmFnZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxNyBVYmVyIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgeyBnZXQgYXMgX2dldCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IFROaWwgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmltcG9ydCBFVXBkYXRlVHlwZXMgZnJvbSAnLi9FVXBkYXRlVHlwZXMnO1xuaW1wb3J0IHsgRHJhZ2dhYmxlQm91bmRzLCBEcmFnZ2luZ1VwZGF0ZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBMRUZUX01PVVNFX0JVVFRPTiA9IDA7XG5cbmV4cG9ydCB0eXBlIERyYWdnYWJsZU1hbmFnZXJPcHRpb25zID0ge1xuICBnZXRCb3VuZHM6ICh0YWc6IHN0cmluZyB8IFROaWwpID0+IERyYWdnYWJsZUJvdW5kcztcbiAgb25Nb3VzZUVudGVyPzogKHVwZGF0ZTogRHJhZ2dpbmdVcGRhdGUpID0+IHZvaWQ7XG4gIG9uTW91c2VMZWF2ZT86ICh1cGRhdGU6IERyYWdnaW5nVXBkYXRlKSA9PiB2b2lkO1xuICBvbk1vdXNlTW92ZT86ICh1cGRhdGU6IERyYWdnaW5nVXBkYXRlKSA9PiB2b2lkO1xuICBvbkRyYWdTdGFydD86ICh1cGRhdGU6IERyYWdnaW5nVXBkYXRlKSA9PiB2b2lkO1xuICBvbkRyYWdNb3ZlPzogKHVwZGF0ZTogRHJhZ2dpbmdVcGRhdGUpID0+IHZvaWQ7XG4gIG9uRHJhZ0VuZD86ICh1cGRhdGU6IERyYWdnaW5nVXBkYXRlKSA9PiB2b2lkO1xuICByZXNldEJvdW5kc09uUmVzaXplPzogYm9vbGVhbjtcbiAgdGFnPzogc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJhZ2dhYmxlTWFuYWdlciB7XG4gIC8vIGNhY2hlIHRoZSBsYXN0IGtub3duIERyYWdnYWJsZUJvdW5kcyAoaW52YWxpZGF0ZSB2aWEgYCNyZXNldEJvdW5kcygpKVxuICBfYm91bmRzOiBEcmFnZ2FibGVCb3VuZHMgfCBUTmlsO1xuICBfaXNEcmFnZ2luZzogYm9vbGVhbjtcbiAgLy8gb3B0aW9uYWwgY2FsbGJhY2tzIGZvciB2YXJpb3VzIGRyYWdnaW5nIGV2ZW50c1xuICBfb25Nb3VzZUVudGVyOiAoKHVwZGF0ZTogRHJhZ2dpbmdVcGRhdGUpID0+IHZvaWQpIHwgVE5pbDtcbiAgX29uTW91c2VMZWF2ZTogKCh1cGRhdGU6IERyYWdnaW5nVXBkYXRlKSA9PiB2b2lkKSB8IFROaWw7XG4gIF9vbk1vdXNlTW92ZTogKCh1cGRhdGU6IERyYWdnaW5nVXBkYXRlKSA9PiB2b2lkKSB8IFROaWw7XG4gIF9vbkRyYWdTdGFydDogKCh1cGRhdGU6IERyYWdnaW5nVXBkYXRlKSA9PiB2b2lkKSB8IFROaWw7XG4gIF9vbkRyYWdNb3ZlOiAoKHVwZGF0ZTogRHJhZ2dpbmdVcGRhdGUpID0+IHZvaWQpIHwgVE5pbDtcbiAgX29uRHJhZ0VuZDogKCh1cGRhdGU6IERyYWdnaW5nVXBkYXRlKSA9PiB2b2lkKSB8IFROaWw7XG4gIC8vIHdoZXRoZXIgdG8gcmVzZXQgdGhlIGJvdW5kcyBvbiB3aW5kb3cgcmVzaXplXG4gIF9yZXNldEJvdW5kc09uUmVzaXplOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGBEcmFnZ2FibGVCb3VuZHNgIGZvciB0aGUgY3VycmVudCBkcmFnLiBUaGUgcmV0dXJuZWQgdmFsdWUgaXNcbiAgICogY2FjaGVkIHVudGlsIGVpdGhlciBgI3Jlc2V0Qm91bmRzKClgIGlzIGNhbGxlZCBvciB0aGUgd2luZG93IGlzIHJlc2l6ZWRcbiAgICogKGFzc3VtaW5nIGBfcmVzZXRCb3VuZHNPblJlc2l6ZWAgaXMgYHRydWVgKS4gVGhlIGBEcmFnZ2FibGVCb3VuZHNgIGRlZmluZXNcbiAgICogdGhlIHJhbmdlIHRoZSBjdXJyZW50IGRyYWcgY2FuIHNwYW4gdG8uIEl0IGFsc28gZXN0YWJsaXNoZXMgdGhlIGxlZnQgb2Zmc2V0XG4gICAqIHRvIGFkanVzdCBgY2xpZW50WGAgYnkgKGZyb20gdGhlIGBNb3VzZUV2ZW50YHMpLlxuICAgKi9cbiAgZ2V0Qm91bmRzOiAodGFnOiBzdHJpbmcgfCBUTmlsKSA9PiBEcmFnZ2FibGVCb3VuZHM7XG5cbiAgLy8gY29udmVuaWVuY2UgZGF0YVxuICB0YWc6IHN0cmluZyB8IFROaWw7XG5cbiAgLy8gaGFuZGxlcnMgZm9yIGludGVncmF0aW9uIHdpdGggRE9NIGVsZW1lbnRzXG4gIGhhbmRsZU1vdXNlRW50ZXI6IChldmVudDogUmVhY3QuTW91c2VFdmVudCkgPT4gdm9pZDtcbiAgaGFuZGxlTW91c2VNb3ZlOiAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHZvaWQ7XG4gIGhhbmRsZU1vdXNlTGVhdmU6IChldmVudDogUmVhY3QuTW91c2VFdmVudCkgPT4gdm9pZDtcbiAgaGFuZGxlTW91c2VEb3duOiAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoeyBnZXRCb3VuZHMsIHRhZywgcmVzZXRCb3VuZHNPblJlc2l6ZSA9IHRydWUsIC4uLnJlc3QgfTogRHJhZ2dhYmxlTWFuYWdlck9wdGlvbnMpIHtcbiAgICB0aGlzLmhhbmRsZU1vdXNlRG93biA9IHRoaXMuX2hhbmRsZURyYWdFdmVudDtcbiAgICB0aGlzLmhhbmRsZU1vdXNlRW50ZXIgPSB0aGlzLl9oYW5kbGVNaW5vck1vdXNlRXZlbnQ7XG4gICAgdGhpcy5oYW5kbGVNb3VzZU1vdmUgPSB0aGlzLl9oYW5kbGVNaW5vck1vdXNlRXZlbnQ7XG4gICAgdGhpcy5oYW5kbGVNb3VzZUxlYXZlID0gdGhpcy5faGFuZGxlTWlub3JNb3VzZUV2ZW50O1xuXG4gICAgdGhpcy5nZXRCb3VuZHMgPSBnZXRCb3VuZHM7XG4gICAgdGhpcy50YWcgPSB0YWc7XG4gICAgdGhpcy5faXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgIHRoaXMuX2JvdW5kcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9yZXNldEJvdW5kc09uUmVzaXplID0gQm9vbGVhbihyZXNldEJvdW5kc09uUmVzaXplKTtcbiAgICBpZiAodGhpcy5fcmVzZXRCb3VuZHNPblJlc2l6ZSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzZXRCb3VuZHMpO1xuICAgIH1cbiAgICB0aGlzLl9vbk1vdXNlRW50ZXIgPSByZXN0Lm9uTW91c2VFbnRlcjtcbiAgICB0aGlzLl9vbk1vdXNlTGVhdmUgPSByZXN0Lm9uTW91c2VMZWF2ZTtcbiAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHJlc3Qub25Nb3VzZU1vdmU7XG4gICAgdGhpcy5fb25EcmFnU3RhcnQgPSByZXN0Lm9uRHJhZ1N0YXJ0O1xuICAgIHRoaXMuX29uRHJhZ01vdmUgPSByZXN0Lm9uRHJhZ01vdmU7XG4gICAgdGhpcy5fb25EcmFnRW5kID0gcmVzdC5vbkRyYWdFbmQ7XG4gIH1cblxuICBfZ2V0Qm91bmRzKCk6IERyYWdnYWJsZUJvdW5kcyB7XG4gICAgaWYgKCF0aGlzLl9ib3VuZHMpIHtcbiAgICAgIHRoaXMuX2JvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKHRoaXMudGFnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2JvdW5kcztcbiAgfVxuXG4gIF9nZXRQb3NpdGlvbihjbGllbnRYOiBudW1iZXIpIHtcbiAgICBjb25zdCB7IGNsaWVudFhMZWZ0LCBtYXhWYWx1ZSwgbWluVmFsdWUsIHdpZHRoIH0gPSB0aGlzLl9nZXRCb3VuZHMoKTtcbiAgICBsZXQgeCA9IGNsaWVudFggLSBjbGllbnRYTGVmdDtcbiAgICBsZXQgdmFsdWUgPSB4IC8gd2lkdGg7XG4gICAgaWYgKG1pblZhbHVlICE9IG51bGwgJiYgdmFsdWUgPCBtaW5WYWx1ZSkge1xuICAgICAgdmFsdWUgPSBtaW5WYWx1ZTtcbiAgICAgIHggPSBtaW5WYWx1ZSAqIHdpZHRoO1xuICAgIH0gZWxzZSBpZiAobWF4VmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSA+IG1heFZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IG1heFZhbHVlO1xuICAgICAgeCA9IG1heFZhbHVlICogd2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB7IHZhbHVlLCB4IH07XG4gIH1cblxuICBfc3RvcERyYWdnaW5nKCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVEcmFnRXZlbnQpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlRHJhZ0V2ZW50KTtcbiAgICBjb25zdCBzdHlsZSA9IF9nZXQoZG9jdW1lbnQsICdib2R5LnN0eWxlJyk7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBzdHlsZS51c2VyU2VsZWN0ID0gJ2F1dG8nO1xuICAgIH1cbiAgICB0aGlzLl9pc0RyYWdnaW5nID0gZmFsc2U7XG4gIH1cblxuICBpc0RyYWdnaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0RyYWdnaW5nO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBpZiAodGhpcy5faXNEcmFnZ2luZykge1xuICAgICAgdGhpcy5fc3RvcERyYWdnaW5nKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9yZXNldEJvdW5kc09uUmVzaXplKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNldEJvdW5kcyk7XG4gICAgfVxuICAgIHRoaXMuX2JvdW5kcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9vbk1vdXNlRW50ZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fb25Nb3VzZUxlYXZlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX29uRHJhZ1N0YXJ0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX29uRHJhZ01vdmUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fb25EcmFnRW5kID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmVzZXRCb3VuZHMgPSAoKSA9PiB7XG4gICAgdGhpcy5fYm91bmRzID0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIF9oYW5kbGVNaW5vck1vdXNlRXZlbnQgPSAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IGJ1dHRvbiwgY2xpZW50WCwgdHlwZTogZXZlbnRUeXBlIH0gPSBldmVudDtcbiAgICBpZiAodGhpcy5faXNEcmFnZ2luZyB8fCBidXR0b24gIT09IExFRlRfTU9VU0VfQlVUVE9OKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB0eXBlOiBFVXBkYXRlVHlwZXMgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgaGFuZGxlcjogKCh1cGRhdGU6IERyYWdnaW5nVXBkYXRlKSA9PiB2b2lkKSB8IFROaWw7XG4gICAgaWYgKGV2ZW50VHlwZSA9PT0gJ21vdXNlZW50ZXInKSB7XG4gICAgICB0eXBlID0gRVVwZGF0ZVR5cGVzLk1vdXNlRW50ZXI7XG4gICAgICBoYW5kbGVyID0gdGhpcy5fb25Nb3VzZUVudGVyO1xuICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlID09PSAnbW91c2VsZWF2ZScpIHtcbiAgICAgIHR5cGUgPSBFVXBkYXRlVHlwZXMuTW91c2VMZWF2ZTtcbiAgICAgIGhhbmRsZXIgPSB0aGlzLl9vbk1vdXNlTGVhdmU7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgPT09ICdtb3VzZW1vdmUnKSB7XG4gICAgICB0eXBlID0gRVVwZGF0ZVR5cGVzLk1vdXNlTW92ZTtcbiAgICAgIGhhbmRsZXIgPSB0aGlzLl9vbk1vdXNlTW92ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGV2ZW50IHR5cGU6ICR7ZXZlbnRUeXBlfWApO1xuICAgIH1cbiAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyB2YWx1ZSwgeCB9ID0gdGhpcy5fZ2V0UG9zaXRpb24oY2xpZW50WCk7XG4gICAgaGFuZGxlcih7XG4gICAgICBldmVudCxcbiAgICAgIHR5cGUsXG4gICAgICB2YWx1ZSxcbiAgICAgIHgsXG4gICAgICBtYW5hZ2VyOiB0aGlzLFxuICAgICAgdGFnOiB0aGlzLnRhZyxcbiAgICB9KTtcbiAgfTtcblxuICBfaGFuZGxlRHJhZ0V2ZW50ID0gKGV2ZW50OiBNb3VzZUV2ZW50IHwgUmVhY3QuTW91c2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHsgYnV0dG9uLCBjbGllbnRYLCB0eXBlOiBldmVudFR5cGUgfSA9IGV2ZW50O1xuICAgIGxldCB0eXBlOiBFVXBkYXRlVHlwZXMgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgaGFuZGxlcjogKCh1cGRhdGU6IERyYWdnaW5nVXBkYXRlKSA9PiB2b2lkKSB8IFROaWw7XG4gICAgaWYgKGV2ZW50VHlwZSA9PT0gJ21vdXNlZG93bicpIHtcbiAgICAgIGlmICh0aGlzLl9pc0RyYWdnaW5nIHx8IGJ1dHRvbiAhPT0gTEVGVF9NT1VTRV9CVVRUT04pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZURyYWdFdmVudCk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZURyYWdFdmVudCk7XG4gICAgICBjb25zdCBzdHlsZSA9IF9nZXQoZG9jdW1lbnQsICdib2R5LnN0eWxlJyk7XG4gICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgc3R5bGUudXNlclNlbGVjdCA9ICdub25lJztcbiAgICAgIH1cbiAgICAgIHRoaXMuX2lzRHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgICB0eXBlID0gRVVwZGF0ZVR5cGVzLkRyYWdTdGFydDtcbiAgICAgIGhhbmRsZXIgPSB0aGlzLl9vbkRyYWdTdGFydDtcbiAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSA9PT0gJ21vdXNlbW92ZScpIHtcbiAgICAgIGlmICghdGhpcy5faXNEcmFnZ2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0eXBlID0gRVVwZGF0ZVR5cGVzLkRyYWdNb3ZlO1xuICAgICAgaGFuZGxlciA9IHRoaXMuX29uRHJhZ01vdmU7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgPT09ICdtb3VzZXVwJykge1xuICAgICAgaWYgKCF0aGlzLl9pc0RyYWdnaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3N0b3BEcmFnZ2luZygpO1xuICAgICAgdHlwZSA9IEVVcGRhdGVUeXBlcy5EcmFnRW5kO1xuICAgICAgaGFuZGxlciA9IHRoaXMuX29uRHJhZ0VuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGV2ZW50IHR5cGU6ICR7ZXZlbnRUeXBlfWApO1xuICAgIH1cbiAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyB2YWx1ZSwgeCB9ID0gdGhpcy5fZ2V0UG9zaXRpb24oY2xpZW50WCk7XG4gICAgaGFuZGxlcih7XG4gICAgICBldmVudCxcbiAgICAgIHR5cGUsXG4gICAgICB2YWx1ZSxcbiAgICAgIHgsXG4gICAgICBtYW5hZ2VyOiB0aGlzLFxuICAgICAgdGFnOiB0aGlzLnRhZyxcbiAgICB9KTtcbiAgfTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQSxHQUFHLElBQUlDLElBQUksUUFBUSxRQUFRO0FBSXBDLE9BQU9DLFlBQVksTUFBTSxnQkFBZ0I7QUFHekMsSUFBTUMsaUJBQWlCLEdBQUcsQ0FBQztBQUFDLElBY1BDLGdCQUFnQjtFQUNuQzs7RUFHQTs7RUFPQTs7RUFHQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7RUFHRTs7RUFHQTs7RUFNQSxTQUFBQSxpQkFBQUMsSUFBQSxFQUE4RjtJQUFBLElBQUFDLEtBQUE7SUFBQSxJQUFoRkMsU0FBUyxHQUFBRixJQUFBLENBQVRFLFNBQVM7TUFBRUMsR0FBRyxHQUFBSCxJQUFBLENBQUhHLEdBQUc7TUFBQUMscUJBQUEsR0FBQUosSUFBQSxDQUFFSyxtQkFBbUI7TUFBbkJBLG1CQUFtQixHQUFBRCxxQkFBQSxjQUFHLElBQUksR0FBQUEscUJBQUE7TUFBS0Us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