import _extends from "@babel/runtime/helpers/extends";
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

import { render, screen } from '@testing-library/react';
import React from 'react';
import KeyValuesTable, { LinkValue } from './KeyValuesTable';
import { jsx as _jsx } from "react/jsx-runtime";
var data = [{
  key: 'span.kind',
  value: 'client'
}, {
  key: 'omg',
  value: 'mos-def'
}, {
  key: 'numericString',
  value: '12345678901234567890'
}, {
  key: 'jsonkey',
  value: JSON.stringify({
    hello: 'world'
  })
}];
var setup = function setup(propOverrides) {
  var props = _extends({
    data: data
  }, propOverrides);
  return render( /*#__PURE__*/_jsx(KeyValuesTable, _extends({}, props)));
};
describe('LinkValue', function () {
  it('renders as expected', function () {
    var title = 'titleValue';
    var href = 'hrefValue';
    var childrenText = 'childrenTextValue';
    render( /*#__PURE__*/_jsx(LinkValue, {
      href: href,
      title: title,
      children: childrenText
    }));
    expect(screen.getByRole('link', {
      name: 'titleValue'
    })).toBeInTheDocument();
    expect(screen.getByText(/^childrenTextValue$/)).toBeInTheDocument();
  });
});
describe('KeyValuesTable tests', function () {
  it('renders without exploding', function () {
    expect(function () {
      return setup();
    }).not.toThrow();
  });
  it('renders a table', function () {
    setup();
    expect(screen.getByTestId('KeyValueTable')).toBeInTheDocument();
    expect(screen.getByRole('table')).toBeInTheDocument();
  });
  it('renders a table row for each data element', function () {
    setup();
    expect(screen.getByRole('table')).toBeInTheDocument();
    expect(screen.getAllByRole('cell')).toHaveLength(12);
    expect(screen.getAllByTestId('KeyValueTable--keyColumn')).toHaveLength(4);
    expect(screen.getByRole('row', {
      name: 'span.kind "client"'
    })).toBeInTheDocument();
    expect(screen.getByRole('row', {
      name: 'jsonkey { "hello": "world" }'
    })).toBeInTheDocument();
  });
  it('renders a single link correctly', function () {
    setup({
      linksGetter: function linksGetter(array, i) {
        return array[i].key === 'span.kind' ? [{
          url: "http://example.com/?kind=" + encodeURIComponent(array[i].value),
          text: "More info about " + array[i].value
        }] : [];
      }
    });
    expect(screen.getByRole('row', {
      name: 'span.kind More info about client'
    })).toBeInTheDocument();
  });
  it('renders a <CopyIcon /> for each data element', function () {
    setup();
    expect(screen.getAllByRole('button')).toHaveLength(4);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZW5kZXIiLCJzY3JlZW4iLCJSZWFjdCIsIktleVZhbHVlc1RhYmxlIiwiTGlua1ZhbHVlIiwianN4IiwiX2pzeCIsImRhdGEiLCJrZXkiLCJ2YWx1ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWxsbyIsInNldHVwIiwicHJvcE92ZXJyaWRlcyIsInByb3BzIiwiX2V4dGVuZHMiLCJkZXNjcmliZSIsIml0IiwidGl0bGUiLCJocmVmIiwiY2hpbGRyZW5UZXh0IiwiY2hpbGRyZW4iLCJleHBlY3QiLCJnZXRCeVJvbGUiLCJuYW1lIiwidG9CZUluVGhlRG9jdW1lbnQiLCJnZXRCeVRleHQiLCJub3QiLCJ0b1Rocm93IiwiZ2V0QnlUZXN0SWQiLCJnZXRBbGxCeVJvbGUiLCJ0b0hhdmVMZW5ndGgiLCJnZXRBbGxCeVRlc3RJZCIsImxpbmtzR2V0dGVyIiwiYXJyYXkiLCJpIiwidXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidGV4dCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9UcmFjZVRpbWVsaW5lVmlld2VyL1NwYW5EZXRhaWwvS2V5VmFsdWVzVGFibGUudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDE3IFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgS2V5VmFsdWVzVGFibGUsIHsgTGlua1ZhbHVlLCBLZXlWYWx1ZXNUYWJsZVByb3BzIH0gZnJvbSAnLi9LZXlWYWx1ZXNUYWJsZSc7XG5cbmNvbnN0IGRhdGEgPSBbXG4gIHsga2V5OiAnc3Bhbi5raW5kJywgdmFsdWU6ICdjbGllbnQnIH0sXG4gIHsga2V5OiAnb21nJywgdmFsdWU6ICdtb3MtZGVmJyB9LFxuICB7IGtleTogJ251bWVyaWNTdHJpbmcnLCB2YWx1ZTogJzEyMzQ1Njc4OTAxMjM0NTY3ODkwJyB9LFxuICB7IGtleTogJ2pzb25rZXknLCB2YWx1ZTogSlNPTi5zdHJpbmdpZnkoeyBoZWxsbzogJ3dvcmxkJyB9KSB9LFxuXTtcblxuY29uc3Qgc2V0dXAgPSAocHJvcE92ZXJyaWRlcz86IEtleVZhbHVlc1RhYmxlUHJvcHMpID0+IHtcbiAgY29uc3QgcHJvcHMgPSB7XG4gICAgZGF0YTogZGF0YSxcbiAgICAuLi5wcm9wT3ZlcnJpZGVzLFxuICB9O1xuICByZXR1cm4gcmVuZGVyKDxLZXlWYWx1ZXNUYWJsZSB7Li4uKHByb3BzIGFzIEtleVZhbHVlc1RhYmxlUHJvcHMpfSAvPik7XG59O1xuXG5kZXNjcmliZSgnTGlua1ZhbHVlJywgKCkgPT4ge1xuICBpdCgncmVuZGVycyBhcyBleHBlY3RlZCcsICgpID0+IHtcbiAgICBjb25zdCB0aXRsZSA9ICd0aXRsZVZhbHVlJztcbiAgICBjb25zdCBocmVmID0gJ2hyZWZWYWx1ZSc7XG4gICAgY29uc3QgY2hpbGRyZW5UZXh0ID0gJ2NoaWxkcmVuVGV4dFZhbHVlJztcbiAgICByZW5kZXIoXG4gICAgICA8TGlua1ZhbHVlIGhyZWY9e2hyZWZ9IHRpdGxlPXt0aXRsZX0+XG4gICAgICAgIHtjaGlsZHJlblRleHR9XG4gICAgICA8L0xpbmtWYWx1ZT5cbiAgICApO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAndGl0bGVWYWx1ZScgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL15jaGlsZHJlblRleHRWYWx1ZSQvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ0tleVZhbHVlc1RhYmxlIHRlc3RzJywgKCkgPT4ge1xuICBpdCgncmVuZGVycyB3aXRob3V0IGV4cGxvZGluZycsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gc2V0dXAoKSkubm90LnRvVGhyb3coKTtcbiAgfSk7XG5cbiAgaXQoJ3JlbmRlcnMgYSB0YWJsZScsICgpID0+IHtcbiAgICBzZXR1cCgpO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnS2V5VmFsdWVUYWJsZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCd0YWJsZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcbiAgaXQoJ3JlbmRlcnMgYSB0YWJsZSByb3cgZm9yIGVhY2ggZGF0YSBlbGVtZW50JywgKCkgPT4ge1xuICAgIHNldHVwKCk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgndGFibGUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5Um9sZSgnY2VsbCcpKS50b0hhdmVMZW5ndGgoMTIpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QWxsQnlUZXN0SWQoJ0tleVZhbHVlVGFibGUtLWtleUNvbHVtbicpKS50b0hhdmVMZW5ndGgoNCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ3JvdycsIHsgbmFtZTogJ3NwYW4ua2luZCBcImNsaWVudFwiJyB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgncm93JywgeyBuYW1lOiAnanNvbmtleSB7IFwiaGVsbG9cIjogXCJ3b3JsZFwiIH0nIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgncmVuZGVycyBhIHNpbmdsZSBsaW5rIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBzZXR1cCh7XG4gICAgICBsaW5rc0dldHRlcjogKGFycmF5LCBpKSA9PlxuICAgICAgICBhcnJheVtpXS5rZXkgPT09ICdzcGFuLmtpbmQnXG4gICAgICAgICAgPyBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1cmw6IGBodHRwOi8vZXhhbXBsZS5jb20vP2tpbmQ9JHtlbmNvZGVVUklDb21wb25lbnQoYXJyYXlbaV0udmFsdWUpfWAsXG4gICAgICAgICAgICAgICAgdGV4dDogYE1vcmUgaW5mbyBhYm91dCAke2FycmF5W2ldLnZhbHVlfWAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdXG4gICAgICAgICAgOiBbXSxcbiAgICB9IGFzIEtleVZhbHVlc1RhYmxlUHJvcHMpO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ3JvdycsIHsgbmFtZTogJ3NwYW4ua2luZCBNb3JlIGluZm8gYWJvdXQgY2xpZW50JyB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3JlbmRlcnMgYSA8Q29weUljb24gLz4gZm9yIGVhY2ggZGF0YSBlbGVtZW50JywgKCkgPT4ge1xuICAgIHNldHVwKCk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJykpLnRvSGF2ZUxlbmd0aCg0KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVNBLE1BQU0sRUFBRUMsTUFBTSxRQUFRLHdCQUF3QjtBQUN2RCxPQUFPQyxLQUFLLE1BQU0sT0FBTztBQUV6QixPQUFPQyxjQUFjLElBQUlDLFNBQVMsUUFBNkIsa0JBQWtCO0FBQUMsU0FBQUMsR0FBQSxJQUFBQyxJQUFBO0FBRWxGLElBQU1DLElBQUksR0FBRyxDQUNYO0VBQUVDLEdBQUcsRUFBRSxXQUFXO0VBQUVDLEtBQUssRUFBRTtBQUFTLENBQUMsRUFDckM7RUFBRUQsR0FBRyxFQUFFLEtBQUs7RUFBRUMsS0FBSyxFQUFFO0FBQVUsQ0FBQyxFQUNoQztFQUFFRCxHQUFHLEVBQUUsZUFBZTtFQUFFQyxLQUFLLEVBQUU7QUFBdUIsQ0FBQyxFQUN2RDtFQUFFRCxHQUFHLEVBQUUsU0FBUztFQUFFQyxLQUFLLEVBQUVDLElBQUksQ0FBQ0MsU0FBUyxDQUFDO0lBQUVDLEtBQUssRUFBRTtFQUFRLENBQUM7QUFBRSxDQUFDLENBQzlEO0FBRUQsSUFBTUMsS0FBSyxHQUFHLFNBQVJBLEtBQUtBLENBQUlDLGFBQW1DLEVBQUs7RUFDckQsSUFBTUMsS0FBSyxHQUFBQyxRQUFBO0lBQ1RULElBQUksRUFBRUE7RUFBSSxHQUNQTyxhQUFhLENBQ2pCO0VBQ0QsT0FBT2QsTUFBTSxlQUFDTSxJQUFBLENBQUNILGNBQWMsRUFBQWEsUUFBQSxLQUFNRCxLQUFLLENBQTJCLENBQUMsQ0FBQztBQUN2RSxDQUFDO0FBRURFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsWUFBTTtFQUMxQkMsRUFBRSxDQUFDLHFCQUFxQixFQUFFLFlBQU07SUFDOUIsSUFBTUMsS0FBSyxHQUFHLFlBQVk7SUFDMUIsSUFBTUMsSUFBSSxH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