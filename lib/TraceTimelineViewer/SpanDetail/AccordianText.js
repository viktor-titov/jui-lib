import _extends from "@babel/runtime/helpers/extends";
import _taggedTemplateLiteralLoose from "@babel/runtime/helpers/taggedTemplateLiteralLoose";
var _templateObject;
// Copyright (c) 2019 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

import { css } from '@emotion/css';
import cx from 'classnames';
import * as React from 'react';
import IoIosArrowDown from 'react-icons/lib/io/ios-arrow-down';
import IoIosArrowRight from 'react-icons/lib/io/ios-arrow-right';
import { useStyles2 } from '@grafana/ui';
import { autoColor } from '../../Theme';
import { uAlignIcon } from '../../uberUtilityStyles';
import { getStyles as getAccordianKeyValuesStyles } from './AccordianKeyValues';
import TextList from './TextList';
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
var getStyles = function getStyles(theme) {
  return {
    header: css(_templateObject || (_templateObject = _taggedTemplateLiteralLoose(["\n      cursor: pointer;\n      overflow: hidden;\n      padding: 0.25em 0.1em;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      &:hover {\n        background: ", ";\n      }\n    "])), autoColor(theme, '#e8e8e8'))
  };
};
function DefaultTextComponent(_ref) {
  var data = _ref.data;
  return /*#__PURE__*/_jsx(TextList, {
    data: data
  });
}
export default function AccordianText(props) {
  var _cx;
  var className = props.className,
    data = props.data,
    headerClassName = props.headerClassName,
    interactive = props.interactive,
    isOpen = props.isOpen,
    label = props.label,
    onToggle = props.onToggle,
    _props$TextComponent = props.TextComponent,
    TextComponent = _props$TextComponent === void 0 ? DefaultTextComponent : _props$TextComponent;
  var isEmpty = !Array.isArray(data) || !data.length;
  var accordianKeyValuesStyles = useStyles2(getAccordianKeyValuesStyles);
  var iconCls = cx(uAlignIcon, (_cx = {}, _cx[accordianKeyValuesStyles.emptyIcon] = isEmpty, _cx));
  var arrow = null;
  var headerProps = null;
  if (interactive) {
    arrow = isOpen ? /*#__PURE__*/_jsx(IoIosArrowDown, {
      className: iconCls
    }) : /*#__PURE__*/_jsx(IoIosArrowRight, {
      className: iconCls
    });
    headerProps = {
      'aria-checked': isOpen,
      onClick: isEmpty ? null : onToggle,
      role: 'switch'
    };
  }
  var styles = useStyles2(getStyles);
  return /*#__PURE__*/_jsxs("div", {
    className: className || '',
    children: [/*#__PURE__*/_jsxs("div", _extends({
      className: cx(styles.header, headerClassName)
    }, headerProps, {
      "data-testid": "AccordianText--header",
      children: [arrow, /*#__PURE__*/_jsx("strong", {
        children: label
      }), " (", data.length, ")"]
    })), isOpen && /*#__PURE__*/_jsx(TextComponent, {
      data: data
    })]
  });
}
AccordianText.defaultProps = {
  className: null,
  highContrast: false,
  interactive: true,
  onToggle: null
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjc3MiLCJjeCIsIlJlYWN0IiwiSW9Jb3NBcnJvd0Rvd24iLCJJb0lvc0Fycm93UmlnaHQiLCJ1c2VTdHlsZXMyIiwiYXV0b0NvbG9yIiwidUFsaWduSWNvbiIsImdldFN0eWxlcyIsImdldEFjY29yZGlhbktleVZhbHVlc1N0eWxlcyIsIlRleHRMaXN0IiwianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsInRoZW1lIiwiaGVhZGVyIiwiX3RlbXBsYXRlT2JqZWN0IiwiX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlIiwiRGVmYXVsdFRleHRDb21wb25lbnQiLCJfcmVmIiwiZGF0YSIsIkFjY29yZGlhblRleHQiLCJwcm9wcyIsIl9jeCIsImNsYXNzTmFtZSIsImhlYWRlckNsYXNzTmFtZSIsImludGVyYWN0aXZlIiwiaXNPcGVuIiwibGFiZWwiLCJvblRvZ2dsZSIsIl9wcm9wcyRUZXh0Q29tcG9uZW50IiwiVGV4dENvbXBvbmVudCIsImlzRW1wdHkiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJhY2NvcmRpYW5LZXlWYWx1ZXNTdHlsZXMiLCJpY29uQ2xzIiwiZW1wdHlJY29uIiwiYXJyb3ciLCJoZWFkZXJQcm9wcyIsIm9uQ2xpY2siLCJyb2xlIiwic3R5bGVzIiwiY2hpbGRyZW4iLCJfZXh0ZW5kcyIsImRlZmF1bHRQcm9wcyIsImhpZ2hDb250cmFzdCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9UcmFjZVRpbWVsaW5lVmlld2VyL1NwYW5EZXRhaWwvQWNjb3JkaWFuVGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDE5IFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSW9Jb3NBcnJvd0Rvd24gZnJvbSAncmVhY3QtaWNvbnMvbGliL2lvL2lvcy1hcnJvdy1kb3duJztcbmltcG9ydCBJb0lvc0Fycm93UmlnaHQgZnJvbSAncmVhY3QtaWNvbnMvbGliL2lvL2lvcy1hcnJvdy1yaWdodCc7XG5cbmltcG9ydCB7IEdyYWZhbmFUaGVtZTIgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IHVzZVN0eWxlczIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IGF1dG9Db2xvciB9IGZyb20gJy4uLy4uL1RoZW1lJztcbmltcG9ydCB7IFROaWwgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyB1QWxpZ25JY29uIH0gZnJvbSAnLi4vLi4vdWJlclV0aWxpdHlTdHlsZXMnO1xuXG5pbXBvcnQgeyBnZXRTdHlsZXMgYXMgZ2V0QWNjb3JkaWFuS2V5VmFsdWVzU3R5bGVzIH0gZnJvbSAnLi9BY2NvcmRpYW5LZXlWYWx1ZXMnO1xuaW1wb3J0IFRleHRMaXN0IGZyb20gJy4vVGV4dExpc3QnO1xuXG5jb25zdCBnZXRTdHlsZXMgPSAodGhlbWU6IEdyYWZhbmFUaGVtZTIpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBoZWFkZXI6IGNzc2BcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICBwYWRkaW5nOiAwLjI1ZW0gMC4xZW07XG4gICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogJHthdXRvQ29sb3IodGhlbWUsICcjZThlOGU4Jyl9O1xuICAgICAgfVxuICAgIGAsXG4gIH07XG59O1xuXG50eXBlIEFjY29yZGlhblRleHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nIHwgVE5pbDtcbiAgaGVhZGVyQ2xhc3NOYW1lPzogc3RyaW5nIHwgVE5pbDtcbiAgZGF0YTogc3RyaW5nW107XG4gIGhpZ2hDb250cmFzdD86IGJvb2xlYW47XG4gIGludGVyYWN0aXZlPzogYm9vbGVhbjtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBsYWJlbDogUmVhY3QuUmVhY3ROb2RlIHwgc3RyaW5nO1xuICBvblRvZ2dsZT86IG51bGwgfCAoKCkgPT4gdm9pZCk7XG4gIFRleHRDb21wb25lbnQ/OiBSZWFjdC5FbGVtZW50VHlwZTx7IGRhdGE6IHN0cmluZ1tdIH0+O1xufTtcblxuZnVuY3Rpb24gRGVmYXVsdFRleHRDb21wb25lbnQoeyBkYXRhIH06IHsgZGF0YTogc3RyaW5nW10gfSkge1xuICByZXR1cm4gPFRleHRMaXN0IGRhdGE9e2RhdGF9IC8+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBY2NvcmRpYW5UZXh0KHByb3BzOiBBY2NvcmRpYW5UZXh0UHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZSxcbiAgICBkYXRhLFxuICAgIGhlYWRlckNsYXNzTmFtZSxcbiAgICBpbnRlcmFjdGl2ZSxcbiAgICBpc09wZW4sXG4gICAgbGFiZWwsXG4gICAgb25Ub2dnbGUsXG4gICAgVGV4dENvbXBvbmVudCA9IERlZmF1bHRUZXh0Q29tcG9uZW50LFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGlzRW1wdHkgPSAhQXJyYXkuaXNBcnJheShkYXRhKSB8fCAhZGF0YS5sZW5ndGg7XG4gIGNvbnN0IGFjY29yZGlhbktleVZhbHVlc1N0eWxlcyA9IHVzZVN0eWxlczIoZ2V0QWNjb3JkaWFuS2V5VmFsdWVzU3R5bGVzKTtcbiAgY29uc3QgaWNvbkNscyA9IGN4KHVBbGlnbkljb24sIHsgW2FjY29yZGlhbktleVZhbHVlc1N0eWxlcy5lbXB0eUljb25dOiBpc0VtcHR5IH0pO1xuICBsZXQgYXJyb3c6IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGwgPSBudWxsO1xuICBsZXQgaGVhZGVyUHJvcHM6IHt9IHwgbnVsbCA9IG51bGw7XG4gIGlmIChpbnRlcmFjdGl2ZSkge1xuICAgIGFycm93ID0gaXNPcGVuID8gPElvSW9zQXJyb3dEb3duIGNsYXNzTmFtZT17aWNvbkNsc30gLz4gOiA8SW9Jb3NBcnJvd1JpZ2h0IGNsYXNzTmFtZT17aWNvbkNsc30gLz47XG4gICAgaGVhZGVyUHJvcHMgPSB7XG4gICAgICAnYXJpYS1jaGVja2VkJzogaXNPcGVuLFxuICAgICAgb25DbGljazogaXNFbXB0eSA/IG51bGwgOiBvblRvZ2dsZSxcbiAgICAgIHJvbGU6ICdzd2l0Y2gnLFxuICAgIH07XG4gIH1cbiAgY29uc3Qgc3R5bGVzID0gdXNlU3R5bGVzMihnZXRTdHlsZXMpO1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWUgfHwgJyd9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2N4KHN0eWxlcy5oZWFkZXIsIGhlYWRlckNsYXNzTmFtZSl9IHsuLi5oZWFkZXJQcm9wc30gZGF0YS10ZXN0aWQ9XCJBY2NvcmRpYW5UZXh0LS1oZWFkZXJcIj5cbiAgICAgICAge2Fycm93fVxuICAgICAgICA8c3Ryb25nPntsYWJlbH08L3N0cm9uZz4gKHtkYXRhLmxlbmd0aH0pXG4gICAgICA8L2Rpdj5cbiAgICAgIHtpc09wZW4gJiYgPFRleHRDb21wb25lbnQgZGF0YT17ZGF0YX0gLz59XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbkFjY29yZGlhblRleHQuZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6IG51bGwsXG4gIGhpZ2hDb250cmFzdDogZmFsc2UsXG4gIGludGVyYWN0aXZlOiB0cnVlLFxuICBvblRvZ2dsZTogbnVsbCxcbn07XG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVNBLEdBQUcsUUFBUSxjQUFjO0FBQ2xDLE9BQU9DLEVBQUUsTUFBTSxZQUFZO0FBQzNCLE9BQU8sS0FBS0MsS0FBSyxNQUFNLE9BQU87QUFDOUIsT0FBT0MsY0FBYyxNQUFNLG1DQUFtQztBQUM5RCxPQUFPQyxlQUFlLE1BQU0sb0NBQW9DO0FBR2hFLFNBQVNDLFVBQVUsUUFBUSxhQUFhO0FBRXhDLFNBQVNDLFNBQVMsUUFBUSxhQUFhO0FBRXZDLFNBQVNDLFVBQVUsUUFBUSx5QkFBeUI7QUFFcEQsU0FBU0MsU0FBUyxJQUFJQywyQkFBMkIsUUFBUSxzQkFBc0I7QUFDL0UsT0FBT0MsUUFBUSxNQUFNLFlBQVk7QUFBQyxTQUFBQyxHQUFBLElBQUFDLElBQUEsRUFBQUMsSUFBQSxJQUFBQyxLQUFBO0FBRWxDLElBQU1OLFNBQVMsR0FBRyxTQUFaQSxTQUFTQSxDQUFJTyxLQUFvQixFQUFLO0VBQzFDLE9BQU87SUFDTEMsTUFBTSxFQUFFaEIsR0FBRyxDQUFBaUIsZUFBQSxLQUFBQSxlQUFBLEdBQUFDLDJCQUFBLCtNQU9P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