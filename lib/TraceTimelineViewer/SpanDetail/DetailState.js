// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
/**
 * Which items of a {@link SpanDetail} component are expanded.
 */
var DetailState = /*#__PURE__*/function () {
  function DetailState(oldState) {
    var _ref = oldState || {},
      isTagsOpen = _ref.isTagsOpen,
      isProcessOpen = _ref.isProcessOpen,
      isReferencesOpen = _ref.isReferencesOpen,
      isWarningsOpen = _ref.isWarningsOpen,
      isStackTracesOpen = _ref.isStackTracesOpen,
      logs = _ref.logs,
      references = _ref.references;
    this.isTagsOpen = Boolean(isTagsOpen);
    this.isProcessOpen = Boolean(isProcessOpen);
    this.isReferencesOpen = Boolean(isReferencesOpen);
    this.isWarningsOpen = Boolean(isWarningsOpen);
    this.isStackTracesOpen = Boolean(isStackTracesOpen);
    this.logs = {
      isOpen: Boolean(logs && logs.isOpen),
      openedItems: logs && logs.openedItems ? new Set(logs.openedItems) : new Set()
    };
    this.references = {
      isOpen: Boolean(references && references.isOpen),
      openedItems: references && references.openedItems ? new Set(references.openedItems) : new Set()
    };
  }
  var _proto = DetailState.prototype;
  _proto.toggleTags = function toggleTags() {
    var next = new DetailState(this);
    next.isTagsOpen = !this.isTagsOpen;
    return next;
  };
  _proto.toggleProcess = function toggleProcess() {
    var next = new DetailState(this);
    next.isProcessOpen = !this.isProcessOpen;
    return next;
  };
  _proto.toggleReferences = function toggleReferences() {
    var next = new DetailState(this);
    next.references.isOpen = !this.references.isOpen;
    return next;
  };
  _proto.toggleReferenceItem = function toggleReferenceItem(reference) {
    var next = new DetailState(this);
    if (next.references.openedItems.has(reference)) {
      next.references.openedItems["delete"](reference);
    } else {
      next.references.openedItems.add(reference);
    }
    return next;
  };
  _proto.toggleWarnings = function toggleWarnings() {
    var next = new DetailState(this);
    next.isWarningsOpen = !this.isWarningsOpen;
    return next;
  };
  _proto.toggleStackTraces = function toggleStackTraces() {
    var next = new DetailState(this);
    next.isStackTracesOpen = !this.isStackTracesOpen;
    return next;
  };
  _proto.toggleLogs = function toggleLogs() {
    var next = new DetailState(this);
    next.logs.isOpen = !this.logs.isOpen;
    return next;
  };
  _proto.toggleLogItem = function toggleLogItem(logItem) {
    var next = new DetailState(this);
    if (next.logs.openedItems.has(logItem)) {
      next.logs.openedItems["delete"](logItem);
    } else {
      next.logs.openedItems.add(logItem);
    }
    return next;
  };
  return DetailState;
}();
export { DetailState as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXRhaWxTdGF0ZSIsIm9sZFN0YXRlIiwiX3JlZiIsImlzVGFnc09wZW4iLCJpc1Byb2Nlc3NPcGVuIiwiaXNSZWZlcmVuY2VzT3BlbiIsImlzV2FybmluZ3NPcGVuIiwiaXNTdGFja1RyYWNlc09wZW4iLCJsb2dzIiwicmVmZXJlbmNlcyIsIkJvb2xlYW4iLCJpc09wZW4iLCJvcGVuZWRJdGVtcyIsIlNldCIsIl9wcm90byIsInByb3RvdHlwZSIsInRvZ2dsZVRhZ3MiLCJuZXh0IiwidG9nZ2xlUHJvY2VzcyIsInRvZ2dsZVJlZmVyZW5jZXMiLCJ0b2dnbGVSZWZlcmVuY2VJdGVtIiwicmVmZXJlbmNlIiwiaGFzIiwiYWRkIiwidG9nZ2xlV2FybmluZ3MiLCJ0b2dnbGVTdGFja1RyYWNlcyIsInRvZ2dsZUxvZ3MiLCJ0b2dnbGVMb2dJdGVtIiwibG9nSXRlbSIsImRlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvVHJhY2VUaW1lbGluZVZpZXdlci9TcGFuRGV0YWlsL0RldGFpbFN0YXRlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTcgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IHsgVHJhY2VMb2csIFRyYWNlU3BhblJlZmVyZW5jZSB9IGZyb20gJy4uLy4uL3R5cGVzL3RyYWNlJztcblxuLyoqXG4gKiBXaGljaCBpdGVtcyBvZiBhIHtAbGluayBTcGFuRGV0YWlsfSBjb21wb25lbnQgYXJlIGV4cGFuZGVkLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXRhaWxTdGF0ZSB7XG4gIGlzVGFnc09wZW46IGJvb2xlYW47XG4gIGlzUHJvY2Vzc09wZW46IGJvb2xlYW47XG4gIGxvZ3M6IHsgaXNPcGVuOiBib29sZWFuOyBvcGVuZWRJdGVtczogU2V0PFRyYWNlTG9nPiB9O1xuICByZWZlcmVuY2VzOiB7IGlzT3BlbjogYm9vbGVhbjsgb3BlbmVkSXRlbXM6IFNldDxUcmFjZVNwYW5SZWZlcmVuY2U+IH07XG4gIGlzV2FybmluZ3NPcGVuOiBib29sZWFuO1xuICBpc1N0YWNrVHJhY2VzT3BlbjogYm9vbGVhbjtcbiAgaXNSZWZlcmVuY2VzT3BlbjogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvbGRTdGF0ZT86IERldGFpbFN0YXRlKSB7XG4gICAgY29uc3Qge1xuICAgICAgaXNUYWdzT3BlbixcbiAgICAgIGlzUHJvY2Vzc09wZW4sXG4gICAgICBpc1JlZmVyZW5jZXNPcGVuLFxuICAgICAgaXNXYXJuaW5nc09wZW4sXG4gICAgICBpc1N0YWNrVHJhY2VzT3BlbixcbiAgICAgIGxvZ3MsXG4gICAgICByZWZlcmVuY2VzLFxuICAgIH06IERldGFpbFN0YXRlIHwgUmVjb3JkPHN0cmluZywgdW5kZWZpbmVkPiA9IG9sZFN0YXRlIHx8IHt9O1xuICAgIHRoaXMuaXNUYWdzT3BlbiA9IEJvb2xlYW4oaXNUYWdzT3Blbik7XG4gICAgdGhpcy5pc1Byb2Nlc3NPcGVuID0gQm9vbGVhbihpc1Byb2Nlc3NPcGVuKTtcbiAgICB0aGlzLmlzUmVmZXJlbmNlc09wZW4gPSBCb29sZWFuKGlzUmVmZXJlbmNlc09wZW4pO1xuICAgIHRoaXMuaXNXYXJuaW5nc09wZW4gPSBCb29sZWFuKGlzV2FybmluZ3NPcGVuKTtcbiAgICB0aGlzLmlzU3RhY2tUcmFjZXNPcGVuID0gQm9vbGVhbihpc1N0YWNrVHJhY2VzT3Blbik7XG4gICAgdGhpcy5sb2dzID0ge1xuICAgICAgaXNPcGVuOiBCb29sZWFuKGxvZ3MgJiYgbG9ncy5pc09wZW4pLFxuICAgICAgb3BlbmVkSXRlbXM6IGxvZ3MgJiYgbG9ncy5vcGVuZWRJdGVtcyA/IG5ldyBTZXQobG9ncy5vcGVuZWRJdGVtcykgOiBuZXcgU2V0KCksXG4gICAgfTtcbiAgICB0aGlzLnJlZmVyZW5jZXMgPSB7XG4gICAgICBpc09wZW46IEJvb2xlYW4ocmVmZXJlbmNlcyAmJiByZWZlcmVuY2VzLmlzT3BlbiksXG4gICAgICBvcGVuZWRJdGVtczogcmVmZXJlbmNlcyAmJiByZWZlcmVuY2VzLm9wZW5lZEl0ZW1zID8gbmV3IFNldChyZWZlcmVuY2VzLm9wZW5lZEl0ZW1zKSA6IG5ldyBTZXQoKSxcbiAgICB9O1xuICB9XG5cbiAgdG9nZ2xlVGFncygpIHtcbiAgICBjb25zdCBuZXh0ID0gbmV3IERldGFpbFN0YXRlKHRoaXMpO1xuICAgIG5leHQuaXNUYWdzT3BlbiA9ICF0aGlzLmlzVGFnc09wZW47XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cblxuICB0b2dnbGVQcm9jZXNzKCkge1xuICAgIGNvbnN0IG5leHQgPSBuZXcgRGV0YWlsU3RhdGUodGhpcyk7XG4gICAgbmV4dC5pc1Byb2Nlc3NPcGVuID0gIXRoaXMuaXNQcm9jZXNzT3BlbjtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuXG4gIHRvZ2dsZVJlZmVyZW5jZXMoKSB7XG4gICAgY29uc3QgbmV4dCA9IG5ldyBEZXRhaWxTdGF0ZSh0aGlzKTtcbiAgICBuZXh0LnJlZmVyZW5jZXMuaXNPcGVuID0gIXRoaXMucmVmZXJlbmNlcy5pc09wZW47XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cblxuICB0b2dnbGVSZWZlcmVuY2VJdGVtKHJlZmVyZW5jZTogVHJhY2VTcGFuUmVmZXJlbmNlKSB7XG4gICAgY29uc3QgbmV4dCA9IG5ldyBEZXRhaWxTdGF0ZSh0aGlzKTtcbiAgICBpZiAobmV4dC5yZWZlcmVuY2VzLm9wZW5lZEl0ZW1zLmhhcyhyZWZlcmVuY2UpKSB7XG4gICAgICBuZXh0LnJlZmVyZW5jZXMub3BlbmVkSXRlbXMuZGVsZXRlKHJlZmVyZW5jZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5leHQucmVmZXJlbmNlcy5vcGVuZWRJdGVtcy5hZGQocmVmZXJlbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cblxuICB0b2dnbGVXYXJuaW5ncygpIHtcbiAgICBjb25zdCBuZXh0ID0gbmV3IERldGFpbFN0YXRlKHRoaXMpO1xuICAgIG5leHQuaXNXYXJuaW5nc09wZW4gPSAhdGhpcy5pc1dhcm5pbmdzT3BlbjtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuXG4gIHRvZ2dsZVN0YWNrVHJhY2VzKCkge1xuICAgIGNvbnN0IG5leHQgPSBuZXcgRGV0YWlsU3RhdGUodGhpcyk7XG4gICAgbmV4dC5pc1N0YWNrVHJhY2VzT3BlbiA9ICF0aGlzLmlzU3RhY2tUcmFjZXNPcGVuO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgdG9nZ2xlTG9ncygpIHtcbiAgICBjb25zdCBuZXh0ID0gbmV3IERldGFpbFN0YXRlKHRoaXMpO1xuICAgIG5leHQubG9ncy5pc09wZW4gPSAhdGhpcy5sb2dzLmlzT3BlbjtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuXG4gIHRvZ2dsZUxvZ0l0ZW0obG9nSXRlbTogVHJhY2VMb2cpIHtcbiAgICBjb25zdCBuZXh0ID0gbmV3IERldGFpbFN0YXRlKHRoaXMpO1xuICAgIGlmIChuZXh0LmxvZ3Mub3BlbmVkSXRlbXMuaGFzKGxvZ0l0ZW0pKSB7XG4gICAgICBuZXh0LmxvZ3Mub3BlbmVkSXRlbXMuZGVsZXRlKGxvZ0l0ZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0LmxvZ3Mub3BlbmVkSXRlbXMuYWRkKGxvZ0l0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dDtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUZBLElBR3FCQSxXQUFXO0VBUzlCLFNBQUFBLFlBQVlDLFFBQXNCLEVBQUU7SUFDbEMsSUFBQUMsSUFBQSxHQVE2Q0QsUUFBUSxJQUFJLENBQUMsQ0FBQztNQVB6REUsVUFBVSxHQUFBRCxJQUFBLENBQVZDLFVBQVU7TUFDVkMsYUFBYSxHQUFBRixJQUFBLENBQWJFLGFBQWE7TUFDYkMsZ0JBQWdCLEdBQUFILElBQUEsQ0FBaEJHLGdCQUFnQjtNQUNoQkMsY0FBYyxHQUFBSixJQUFBLENBQWRJLGNBQWM7TUFDZEMsaUJBQWlCLEdBQUFMLElBQUEsQ0FBakJLLGlCQUFpQjtNQUNqQkMsSUFBSSxHQUFBTixJQUFBLENBQUpNLElBQUk7TUFDSkMsVUFBVSxHQUFBUCxJQUFBLENBQVZPLFVBQVU7SUFFWixJQUFJLENBQUNOLFVBQVUsR0FBR08sT0FBTyxDQUFDUCxVQUFVLENBQUM7SUFDckMsSUFBSSxDQUFDQyxhQUFhLEdBQUdNLE9BQU8sQ0FBQ04sYUFBYSxDQUFDO0lBQzNDLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUdLLE9BQU8sQ0FBQ0wsZ0JBQWdCLENBQUM7SUFDakQsSUFBSSxDQUFDQyxjQUFjLEdBQUdJLE9BQU8sQ0FBQ0osY0FBYyxDQUFDO0lBQzdDLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUdHLE9BQU8s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