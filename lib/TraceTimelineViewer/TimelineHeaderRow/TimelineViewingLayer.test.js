import _extends from "@babel/runtime/helpers/extends";
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

import { render, screen } from '@testing-library/react';
import React from 'react';
import TimelineViewingLayer from './TimelineViewingLayer';
import { jsx as _jsx } from "react/jsx-runtime";
describe('<TimelineViewingLayer>', function () {
  var viewStart = 0.25;
  var viewEnd = 0.9;
  var props = {
    boundsInvalidator: Math.random(),
    updateNextViewRangeTime: jest.fn(),
    updateViewRangeTime: jest.fn(),
    viewRangeTime: {
      current: [viewStart, viewEnd]
    }
  };
  it('renders without exploding', function () {
    render( /*#__PURE__*/_jsx(TimelineViewingLayer, _extends({}, props)));
    expect(screen.getByTestId('TimelineViewingLayer')).toBeTruthy();
  });
  describe('render()', function () {
    it('renders nothing without a nextViewRangeTime', function () {
      render( /*#__PURE__*/_jsx(TimelineViewingLayer, _extends({}, props)));
      expect(screen.queryByTestId('TimelineViewingLayer--cursorGuide')).not.toBeInTheDocument();
    });
  });
  it('renders the cursor when it is the only non-current value set', function () {
    var cursor = viewStart + 0.5 * (viewEnd - viewStart);
    var baseViewRangeTime = _extends({}, props.viewRangeTime, {
      cursor: cursor
    });
    props = _extends({}, props, {
      viewRangeTime: baseViewRangeTime
    });
    render( /*#__PURE__*/_jsx(TimelineViewingLayer, _extends({}, props)));
    expect(screen.queryByTestId('TimelineViewingLayer--cursorGuide')).toBeInTheDocument();
  });
  it('does not render the cursor when shiftStart, shiftEnd, or reframe are present', function () {
    var cursor = viewStart + 0.5 * (viewEnd - viewStart);
    var baseViewRangeTime = _extends({}, props.viewRangeTime, {
      cursor: cursor
    });
    var viewRangeTime = _extends({}, baseViewRangeTime, {
      shiftStart: cursor,
      shiftEnd: cursor,
      reframe: {
        anchor: cursor,
        shift: cursor
      }
    });
    props = _extends({}, props, {
      viewRangeTime: viewRangeTime
    });
    render( /*#__PURE__*/_jsx(TimelineViewingLayer, _extends({}, props)));
    expect(screen.queryByTestId('TimelineViewingLayer--cursorGuide')).not.toBeInTheDocument();
    viewRangeTime = _extends({}, baseViewRangeTime, {
      shiftEnd: cursor
    });
    props = _extends({}, props, {
      viewRangeTime: viewRangeTime
    });
    render( /*#__PURE__*/_jsx(TimelineViewingLayer, _extends({}, props)));
    expect(screen.queryByTestId('TimelineViewingLayer--cursorGuide')).not.toBeInTheDocument();
    viewRangeTime = _extends({}, baseViewRangeTime, {
      reframe: {
        anchor: cursor,
        shift: cursor
      }
    });
    props = _extends({}, props, {
      viewRangeTime: viewRangeTime
    });
    render( /*#__PURE__*/_jsx(TimelineViewingLayer, _extends({}, props)));
    expect(screen.queryByTestId('TimelineViewingLayer--cursorGuide')).not.toBeInTheDocument();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZW5kZXIiLCJzY3JlZW4iLCJSZWFjdCIsIlRpbWVsaW5lVmlld2luZ0xheWVyIiwianN4IiwiX2pzeCIsImRlc2NyaWJlIiwidmlld1N0YXJ0Iiwidmlld0VuZCIsInByb3BzIiwiYm91bmRzSW52YWxpZGF0b3IiLCJNYXRoIiwicmFuZG9tIiwidXBkYXRlTmV4dFZpZXdSYW5nZVRpbWUiLCJqZXN0IiwiZm4iLCJ1cGRhdGVWaWV3UmFuZ2VUaW1lIiwidmlld1JhbmdlVGltZSIsImN1cnJlbnQiLCJpdCIsIl9leHRlbmRzIiwiZXhwZWN0IiwiZ2V0QnlUZXN0SWQiLCJ0b0JlVHJ1dGh5IiwicXVlcnlCeVRlc3RJZCIsIm5vdCIsInRvQmVJblRoZURvY3VtZW50IiwiY3Vyc29yIiwiYmFzZVZpZXdSYW5nZVRpbWUiLCJzaGlmdFN0YXJ0Iiwic2hpZnRFbmQiLCJyZWZyYW1lIiwiYW5jaG9yIiwic2hpZnQiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvVHJhY2VUaW1lbGluZVZpZXdlci9UaW1lbGluZUhlYWRlclJvdy9UaW1lbGluZVZpZXdpbmdMYXllci50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTcgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4gfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IFZpZXdSYW5nZVRpbWUgfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCBUaW1lbGluZVZpZXdpbmdMYXllciwgeyBUaW1lbGluZVZpZXdpbmdMYXllclByb3BzIH0gZnJvbSAnLi9UaW1lbGluZVZpZXdpbmdMYXllcic7XG5cbmRlc2NyaWJlKCc8VGltZWxpbmVWaWV3aW5nTGF5ZXI+JywgKCkgPT4ge1xuICBjb25zdCB2aWV3U3RhcnQgPSAwLjI1O1xuICBjb25zdCB2aWV3RW5kID0gMC45O1xuXG4gIGxldCBwcm9wczogVGltZWxpbmVWaWV3aW5nTGF5ZXJQcm9wcyA9IHtcbiAgICBib3VuZHNJbnZhbGlkYXRvcjogTWF0aC5yYW5kb20oKSxcbiAgICB1cGRhdGVOZXh0Vmlld1JhbmdlVGltZTogamVzdC5mbigpLFxuICAgIHVwZGF0ZVZpZXdSYW5nZVRpbWU6IGplc3QuZm4oKSxcbiAgICB2aWV3UmFuZ2VUaW1lOiB7XG4gICAgICBjdXJyZW50OiBbdmlld1N0YXJ0LCB2aWV3RW5kXSBhcyBbbnVtYmVyLCBudW1iZXJdLFxuICAgIH0sXG4gIH07XG5cbiAgaXQoJ3JlbmRlcnMgd2l0aG91dCBleHBsb2RpbmcnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxUaW1lbGluZVZpZXdpbmdMYXllciB7Li4ucHJvcHN9IC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdUaW1lbGluZVZpZXdpbmdMYXllcicpKS50b0JlVHJ1dGh5KCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdyZW5kZXIoKScsICgpID0+IHtcbiAgICBpdCgncmVuZGVycyBub3RoaW5nIHdpdGhvdXQgYSBuZXh0Vmlld1JhbmdlVGltZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8VGltZWxpbmVWaWV3aW5nTGF5ZXIgey4uLnByb3BzfSAvPik7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ1RpbWVsaW5lVmlld2luZ0xheWVyLS1jdXJzb3JHdWlkZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3JlbmRlcnMgdGhlIGN1cnNvciB3aGVuIGl0IGlzIHRoZSBvbmx5IG5vbi1jdXJyZW50IHZhbHVlIHNldCcsICgpID0+IHtcbiAgICBjb25zdCBjdXJzb3IgPSB2aWV3U3RhcnQgKyAwLjUgKiAodmlld0VuZCAtIHZpZXdTdGFydCk7XG4gICAgY29uc3QgYmFzZVZpZXdSYW5nZVRpbWUgPSB7IC4uLnByb3BzLnZpZXdSYW5nZVRpbWUsIGN1cnNvciB9O1xuICAgIHByb3BzID0geyAuLi5wcm9wcywgdmlld1JhbmdlVGltZTogYmFzZVZpZXdSYW5nZVRpbWUgfTtcbiAgICByZW5kZXIoPFRpbWVsaW5lVmlld2luZ0xheWVyIHsuLi5wcm9wc30gLz4pO1xuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRlc3RJZCgnVGltZWxpbmVWaWV3aW5nTGF5ZXItLWN1cnNvckd1aWRlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdkb2VzIG5vdCByZW5kZXIgdGhlIGN1cnNvciB3aGVuIHNoaWZ0U3RhcnQsIHNoaWZ0RW5kLCBvciByZWZyYW1lIGFyZSBwcmVzZW50JywgKCkgPT4ge1xuICAgIGNvbnN0IGN1cnNvciA9IHZpZXdTdGFydCArIDAuNSAqICh2aWV3RW5kIC0gdmlld1N0YXJ0KTtcbiAgICBjb25zdCBiYXNlVmlld1JhbmdlVGltZSA9IHsgLi4ucHJvcHMudmlld1JhbmdlVGltZSwgY3Vyc29yIH07XG5cbiAgICBsZXQgdmlld1JhbmdlVGltZTogVmlld1JhbmdlVGltZSA9IHtcbiAgICAgIC4uLmJhc2VWaWV3UmFuZ2VUaW1lLFxuICAgICAgc2hpZnRTdGFydDogY3Vyc29yLFxuICAgICAgc2hpZnRFbmQ6IGN1cnNvcixcbiAgICAgIHJlZnJhbWU6IHsgYW5jaG9yOiBjdXJzb3IsIHNoaWZ0OiBjdXJzb3IgfSxcbiAgICB9O1xuXG4gICAgcHJvcHMgPSB7IC4uLnByb3BzLCB2aWV3UmFuZ2VUaW1lIH07XG4gICAgcmVuZGVyKDxUaW1lbGluZVZpZXdpbmdMYXllciB7Li4ucHJvcHN9IC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ1RpbWVsaW5lVmlld2luZ0xheWVyLS1jdXJzb3JHdWlkZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIHZpZXdSYW5nZVRpbWUgPSB7IC4uLmJhc2VWaWV3UmFuZ2VUaW1lLCBzaGlmdEVuZDogY3Vyc29yIH07XG4gICAgcHJvcHMgPSB7IC4uLnByb3BzLCB2aWV3UmFuZ2VUaW1lIH07XG4gICAgcmVuZGVyKDxUaW1lbGluZVZpZXdpbmdMYXllciB7Li4ucHJvcHN9IC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ1RpbWVsaW5lVmlld2luZ0xheWVyLS1jdXJzb3JHdWlkZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIHZpZXdSYW5nZVRpbWUgPSB7IC4uLmJhc2VWaWV3UmFuZ2VUaW1lLCByZWZyYW1lOiB7IGFuY2hvcjogY3Vyc29yLCBzaGlmdDogY3Vyc29yIH0gfTtcbiAgICBwcm9wcyA9IHsgLi4ucHJvcHMsIHZpZXdSYW5nZVRpbWUgfTtcbiAgICByZW5kZXIoPFRpbWVsaW5lVmlld2luZ0xheWVyIHsuLi5wcm9wc30gLz4pO1xuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRlc3RJZCgnVGltZWxpbmVWaWV3aW5nTGF5ZXItLWN1cnNvckd1aWRlJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBU0EsTUFBTSxFQUFFQyxNQUFNLFFBQVEsd0JBQXdCO0FBQ3ZELE9BQU9DLEtBQUssTUFBTSxPQUFPO0FBSXpCLE9BQU9DLG9CQUFvQixNQUFxQyx3QkFBd0I7QUFBQyxTQUFBQyxHQUFBLElBQUFDLElBQUE7QUFFekZDLFFBQVEsQ0FBQyx3QkFBd0IsRUFBRSxZQUFNO0VBQ3ZDLElBQU1DLFNBQVMsR0FBRyxJQUFJO0VBQ3RCLElBQU1DLE9BQU8sR0FBRyxHQUFHO0VBRW5CLElBQUlDLEtBQWdDLEdBQUc7SUFDckNDLGlCQUFpQixFQUFFQyxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDQyx1QkFBdUIsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNsQ0MsbUJBQW1CLEVBQUVGLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDOUJFLGFBQWEsRUFBRTtNQUNiQyxPQUFPLEVBQUUsQ0FBQ1gsU0FBUyxFQUFFQyxPQUFPO0lBQzlCO0VBQ0YsQ0FBQztFQUVEVyxFQUFFLENBQUMsMkJBQTJCLEVBQUUsWUFBTTtJQUNwQ25CLE1BQU0sZUFBQ0ssSUFBQSxDQUFDRixvQkFBb0IsRUFBQWlCLFFBQUEsS0FBS1gsS0FBSyxDQUFHLENBQUMsQ0FBQztJQUMzQ1ksTUFBTSxDQUFDcEIsTUFBTSxDQUFDcUIsV0FBVyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQ0MsVUFBVSxDQUFDLENBQUM7RUFDakUsQ0FBQyxDQUFDO0VBRUZqQixRQUFRLENBQUMsVUFBVSxFQUFFLFlBQU07SUFDekJh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