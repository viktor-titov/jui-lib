import _extends from "@babel/runtime/helpers/extends";
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

import traceGenerator from '../demo/trace-generators';
import * as spanSelectors from './span';
var generatedTrace = traceGenerator.trace({
  numberOfSpans: 45
});
it('getSpanId() should return the name of the span', function () {
  var span = generatedTrace.spans[0];
  expect(spanSelectors.getSpanId(span)).toBe(span.spanID);
});
it('getSpanName() should return the name of the span', function () {
  var span = generatedTrace.spans[0];
  expect(spanSelectors.getSpanName(span)).toBe(span.operationName);
});
it('getSpanDuration() should return the duration of the span', function () {
  var span = generatedTrace.spans[0];
  expect(spanSelectors.getSpanDuration(span)).toBe(span.duration);
});
it('getSpanTimestamp() should return the timestamp of the span', function () {
  var span = generatedTrace.spans[0];
  expect(spanSelectors.getSpanTimestamp(span)).toBe(span.startTime);
});
it('getSpanReferences() should return the span reference array', function () {
  expect(spanSelectors.getSpanReferences(generatedTrace.spans[0])).toEqual(generatedTrace.spans[0].references);
});
it('getSpanReferences() should return an empty array when references is undefined', function () {
  var span = generatedTrace.spans[0];
  span.references = undefined;
  expect(spanSelectors.getSpanReferences(span)).toEqual([]);
});
it('getSpanReferenceByType() should return the span reference requested', function () {
  var _spanSelectors$getSpa;
  expect((_spanSelectors$getSpa = spanSelectors.getSpanReferenceByType({
    span: generatedTrace.spans[1],
    type: 'CHILD_OF'
  })) == null ? void 0 : _spanSelectors$getSpa.refType).toBe('CHILD_OF');
});
it('getSpanReferenceByType() should return undefined if one does not exist', function () {
  expect(spanSelectors.getSpanReferenceByType({
    span: generatedTrace.spans[0],
    type: 'FOLLOWS_FROM'
  })).toBe(undefined);
});
it('getSpanParentId() should return the spanID of the parent span', function () {
  expect(spanSelectors.getSpanParentId(generatedTrace.spans[1])).toBe(generatedTrace.spans[1].references.find(function (_ref) {
    var refType = _ref.refType;
    return refType === 'CHILD_OF';
  }).spanID);
});
it('getSpanParentId() should return null if no CHILD_OF reference exists', function () {
  expect(spanSelectors.getSpanParentId(generatedTrace.spans[0])).toBe(null);
});
it('getSpanProcessId() should return the processID of the span', function () {
  var span = generatedTrace.spans[0];
  expect(spanSelectors.getSpanProcessId(span)).toBe(span.processID);
});
it('getSpanProcess() should return the process of the span', function () {
  var serviceName = 'bagel';
  var span = _extends({}, generatedTrace.spans[0], {
    process: {
      serviceName: serviceName
    }
  });
  expect(spanSelectors.getSpanProcess(span)).toBe(span.process);
});
it('getSpanProcess() should throw if no process exists', function () {
  expect(function () {
    return spanSelectors.getSpanProcess(generatedTrace.spans[0]);
  }).toThrow();
});
it('getSpanServiceName() should return the service name of the span', function () {
  var serviceName = 'bagel';
  var span = _extends({}, generatedTrace.spans[0], {
    process: {
      serviceName: serviceName
    }
  });
  expect(spanSelectors.getSpanServiceName(span)).toBe(serviceName);
});
it('filterSpansForTimestamps() should return a filtered list of spans between the times', function () {
  var now = new Date().getTime() * 1000;
  var spans = [{
    startTime: now - 1000,
    spanID: 'start-time-1'
  }, {
    startTime: now,
    spanID: 'start-time-2'
  }, {
    startTime: now + 1000,
    spanID: 'start-time-3'
  }];
  expect(spanSelectors.filterSpansForTimestamps({
    spans: spans,
    leftBound: now - 500,
    rightBound: now + 500
  })).toEqual([spans[1]]);
  expect(spanSelectors.filterSpansForTimestamps({
    spans: spans,
    leftBound: now - 2000,
    rightBound: now + 2000
  })).toEqual([].concat(spans));
  expect(spanSelectors.filterSpansForTimestamps({
    spans: spans,
    leftBound: now - 1000,
    rightBound: now
  })).toEqual([spans[0], spans[1]]);
  expect(spanSelectors.filterSpansForTimestamps({
    spans: spans,
    leftBound: now,
    rightBound: now + 1000
  })).toEqual([spans[1], spans[2]]);
});
it('filterSpansForText() should return a filtered list of spans between the times', function () {
  var spans = [{
    operationName: 'GET /mything',
    process: {
      serviceName: 'alpha'
    },
    spanID: 'start-time-1'
  }, {
    operationName: 'GET /another',
    process: {
      serviceName: 'beta'
    },
    spanID: 'start-time-1'
  }, {
    operationName: 'POST /mything',
    process: {
      serviceName: 'alpha'
    },
    spanID: 'start-time-1'
  }];
  expect(spanSelectors.filterSpansForText({
    spans: spans,
    text: '/mything'
  })).toEqual([spans[0], spans[2]]);
  expect(spanSelectors.filterSpansForText({
    spans: spans,
    text: 'GET'
  })).toEqual([spans[0], spans[1]]);
  expect(spanSelectors.filterSpansForText({
    spans: spans,
    text: 'alpha'
  })).toEqual([spans[0], spans[2]]);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0cmFjZUdlbmVyYXRvciIsInNwYW5TZWxlY3RvcnMiLCJnZW5lcmF0ZWRUcmFjZSIsInRyYWNlIiwibnVtYmVyT2ZTcGFucyIsIml0Iiwic3BhbiIsInNwYW5zIiwiZXhwZWN0IiwiZ2V0U3BhbklkIiwidG9CZSIsInNwYW5JRCIsImdldFNwYW5OYW1lIiwib3BlcmF0aW9uTmFtZSIsImdldFNwYW5EdXJhdGlvbiIsImR1cmF0aW9uIiwiZ2V0U3BhblRpbWVzdGFtcCIsInN0YXJ0VGltZSIsImdldFNwYW5SZWZlcmVuY2VzIiwidG9FcXVhbCIsInJlZmVyZW5jZXMiLCJ1bmRlZmluZWQiLCJfc3BhblNlbGVjdG9ycyRnZXRTcGEiLCJnZXRTcGFuUmVmZXJlbmNlQnlUeXBlIiwidHlwZSIsInJlZlR5cGUiLCJnZXRTcGFuUGFyZW50SWQiLCJmaW5kIiwiX3JlZiIsImdldFNwYW5Qcm9jZXNzSWQiLCJwcm9jZXNzSUQiLCJzZXJ2aWNlTmFtZSIsIl9leHRlbmRzIiwicHJvY2VzcyIsImdldFNwYW5Qcm9jZXNzIiwidG9UaHJvdyIsImdldFNwYW5TZXJ2aWNlTmFtZSIsIm5vdyIsIkRhdGUiLCJnZXRUaW1lIiwiZmlsdGVyU3BhbnNGb3JUaW1lc3RhbXBzIiwibGVmdEJvdW5kIiwicmlnaHRCb3VuZCIsImNvbmNhdCIsImZpbHRlclNwYW5zRm9yVGV4dCIsInRleHQiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvc2VsZWN0b3JzL3NwYW4udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTcgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IHsgVHJhY2VSZXNwb25zZSB9IGZyb20gJ3NyYy90eXBlcyc7XG5pbXBvcnQgeyBUcmFjZVNwYW4sIFRyYWNlU3BhbkRhdGEgfSBmcm9tICcuLi90eXBlcy90cmFjZSc7XG5cbmltcG9ydCB0cmFjZUdlbmVyYXRvciBmcm9tICcuLi9kZW1vL3RyYWNlLWdlbmVyYXRvcnMnO1xuXG5pbXBvcnQgKiBhcyBzcGFuU2VsZWN0b3JzIGZyb20gJy4vc3Bhbic7XG5cbmNvbnN0IGdlbmVyYXRlZFRyYWNlOiBUcmFjZVJlc3BvbnNlID0gdHJhY2VHZW5lcmF0b3IudHJhY2UoeyBudW1iZXJPZlNwYW5zOiA0NSB9KTtcblxuaXQoJ2dldFNwYW5JZCgpIHNob3VsZCByZXR1cm4gdGhlIG5hbWUgb2YgdGhlIHNwYW4nLCAoKSA9PiB7XG4gIGNvbnN0IHNwYW4gPSBnZW5lcmF0ZWRUcmFjZS5zcGFuc1swXTtcblxuICBleHBlY3Qoc3BhblNlbGVjdG9ycy5nZXRTcGFuSWQoc3BhbikpLnRvQmUoc3Bhbi5zcGFuSUQpO1xufSk7XG5cbml0KCdnZXRTcGFuTmFtZSgpIHNob3VsZCByZXR1cm4gdGhlIG5hbWUgb2YgdGhlIHNwYW4nLCAoKSA9PiB7XG4gIGNvbnN0IHNwYW4gPSBnZW5lcmF0ZWRUcmFjZS5zcGFuc1swXTtcblxuICBleHBlY3Qoc3BhblNlbGVjdG9ycy5nZXRTcGFuTmFtZShzcGFuKSkudG9CZShzcGFuLm9wZXJhdGlvbk5hbWUpO1xufSk7XG5cbml0KCdnZXRTcGFuRHVyYXRpb24oKSBzaG91bGQgcmV0dXJuIHRoZSBkdXJhdGlvbiBvZiB0aGUgc3BhbicsICgpID0+IHtcbiAgY29uc3Qgc3BhbiA9IGdlbmVyYXRlZFRyYWNlLnNwYW5zWzBdO1xuXG4gIGV4cGVjdChzcGFuU2VsZWN0b3JzLmdldFNwYW5EdXJhdGlvbihzcGFuKSkudG9CZShzcGFuLmR1cmF0aW9uKTtcbn0pO1xuXG5pdCgnZ2V0U3BhblRpbWVzdGFtcCgpIHNob3VsZCByZXR1cm4gdGhlIHRpbWVzdGFtcCBvZiB0aGUgc3BhbicsICgpID0+IHtcbiAgY29uc3Qgc3BhbiA9IGdlbmVyYXRlZFRyYWNlLnNwYW5zWzBdO1xuXG4gIGV4cGVjdChzcGFuU2VsZWN0b3JzLmdldFNwYW5UaW1lc3RhbXAoc3BhbikpLnRvQmUoc3Bhbi5zdGFydFRpbWUpO1xufSk7XG5cbml0KCdnZXRTcGFuUmVmZXJlbmNlcygpIHNob3VsZCByZXR1cm4gdGhlIHNwYW4gcmVmZXJlbmNlIGFycmF5JywgKCkgPT4ge1xuICBleHBlY3Qoc3BhblNlbGVjdG9ycy5nZXRTcGFuUmVmZXJlbmNlcyhnZW5lcmF0ZWRUcmFjZS5zcGFuc1swXSkpLnRvRXF1YWwoZ2VuZXJhdGVkVHJhY2Uuc3BhbnNbMF0ucmVmZXJlbmNlcyk7XG59KTtcblxuaXQoJ2dldFNwYW5SZWZlcmVuY2VzKCkgc2hvdWxkIHJldHVybiBhbiBlbXB0eSBhcnJheSB3aGVuIHJlZmVyZW5jZXMgaXMgdW5kZWZpbmVkJywgKCkgPT4ge1xuICBjb25zdCBzcGFuID0gZ2VuZXJhdGVkVHJhY2Uuc3BhbnNbMF07XG4gIHNwYW4ucmVmZXJlbmNlcyA9IHVuZGVmaW5lZDtcbiAgZXhwZWN0KHNwYW5TZWxlY3RvcnMuZ2V0U3BhblJlZmVyZW5jZXMoc3BhbikpLnRvRXF1YWwoW10pO1xufSk7XG5cbml0KCdnZXRTcGFuUmVmZXJlbmNlQnlUeXBlKCkgc2hvdWxkIHJldHVybiB0aGUgc3BhbiByZWZlcmVuY2UgcmVxdWVzdGVkJywgKCkgPT4ge1xuICBleHBlY3QoXG4gICAgc3BhblNlbGVjdG9ycy5nZXRTcGFuUmVmZXJlbmNlQnlUeXBlKHtcbiAgICAgIHNwYW46IGdlbmVyYXRlZFRyYWNlLnNwYW5zWzFdLFxuICAgICAgdHlwZTogJ0NISUxEX09GJyxcbiAgICB9KT8ucmVmVHlwZVxuICApLnRvQmUoJ0NISUxEX09GJyk7XG59KTtcblxuaXQoJ2dldFNwYW5SZWZlcmVuY2VCeVR5cGUoKSBzaG91bGQgcmV0dXJuIHVuZGVmaW5lZCBpZiBvbmUgZG9lcyBub3QgZXhpc3QnLCAoKSA9PiB7XG4gIGV4cGVjdChcbiAgICBzcGFuU2VsZWN0b3JzLmdldFNwYW5SZWZlcmVuY2VCeVR5cGUoe1xuICAgICAgc3BhbjogZ2VuZXJhdGVkVHJhY2Uuc3BhbnNbMF0sXG4gICAgICB0eXBlOiAnRk9MTE9XU19GUk9NJyxcbiAgICB9KVxuICApLnRvQmUodW5kZWZpbmVkKTtcbn0pO1xuXG5pdCgnZ2V0U3BhblBhcmVudElkKCkgc2hvdWxkIHJldHVybiB0aGUgc3BhbklEIG9mIHRoZSBwYXJlbnQgc3BhbicsICgpID0+IHtcbiAgZXhwZWN0KHNwYW5TZWxlY3RvcnMuZ2V0U3BhblBhcmVudElkKGdlbmVyYXRlZFRyYWNlLnNwYW5zWzFdKSkudG9CZShcbiAgICBnZW5lcmF0ZWRUcmFjZS5zcGFuc1sxXS5yZWZlcmVuY2VzIS5maW5kKCh7IHJlZlR5cGUgfTogeyByZWZUeXBlOiBzdHJpbmcgfSkgPT4gcmVmVHlwZSA9PT0gJ0NISUxEX09GJykhLnNwYW5JRFxuICApO1xufSk7XG5cbml0KCdnZXRTcGFuUGFyZW50SWQoKSBzaG91bGQgcmV0dXJuIG51bGwgaWYgbm8gQ0hJTERfT0YgcmVmZXJlbmNlIGV4aXN0cycsICgpID0+IHtcbiAgZXhwZWN0KHNwYW5TZWxlY3RvcnMuZ2V0U3BhblBhcmVudElkKGdlbmVyYXRlZFRyYWNlLnNwYW5zWzBdKSkudG9CZShudWxsKTtcbn0pO1xuXG5pdCgnZ2V0U3BhblByb2Nlc3NJZCgpIHNob3VsZCByZXR1cm4gdGhlIHByb2Nlc3NJRCBvZiB0aGUgc3BhbicsICgpID0+IHtcbiAgY29uc3Qgc3BhbiA9IGdlbmVyYXRlZFRyYWNlLnNwYW5zWzBdO1xuXG4gIGV4cGVjdChzcGFuU2VsZWN0b3JzLmdldFNwYW5Qcm9jZXNzSWQoc3BhbikpLnRvQmUoc3Bhbi5wcm9jZXNzSUQpO1xufSk7XG5cbml0KCdnZXRTcGFuUHJvY2VzcygpIHNob3VsZCByZXR1cm4gdGhlIHByb2Nlc3Mgb2YgdGhlIHNwYW4nLCAoKSA9PiB7XG4gIGNvbnN0IHNlcnZpY2VOYW1lID0gJ2JhZ2VsJztcbiAgY29uc3Qgc3BhbiA9IHtcbiAgICAuLi5nZW5lcmF0ZWRUcmFjZS5zcGFuc1swXSxcbiAgICBwcm9jZXNzOiB7IHNlcnZpY2VOYW1lIH0sXG4gIH0gYXMgVHJhY2VTcGFuO1xuXG4gIGV4cGVjdChzcGFuU2VsZWN0b3JzLmdldFNwYW5Qcm9jZXNzKHNwYW4pKS50b0JlKHNwYW4ucHJvY2Vzcyk7XG59KTtcblxuaXQoJ2dldFNwYW5Qcm9jZXNzKCkgc2hvdWxkIHRocm93IGlmIG5vIHByb2Nlc3MgZXhpc3RzJywgKCkgPT4ge1xuICBleHBlY3QoKCkgPT4gc3BhblNlbGVjdG9ycy5nZXRTcGFuUHJvY2VzcyhnZW5lcmF0ZWRUcmFjZS5zcGFuc1swXSBhcyBUcmFjZVNwYW4pKS50b1Rocm93KCk7XG59KTtcblxuaXQoJ2dldFNwYW5TZXJ2aWNlTmFtZSgpIHNob3VsZCByZXR1cm4gdGhlIHNlcnZpY2UgbmFtZSBvZiB0aGUgc3BhbicsICgpID0+IHtcbiAgY29uc3Qgc2VydmljZU5hbWUgPSAnYmFnZWwnO1xuICBjb25zdCBzcGFuID0ge1xuICAgIC4uLmdlbmVyYXRlZFRyYWNlLnNwYW5zWzBdLFxuICAgIHByb2Nlc3M6IHsgc2VydmljZU5hbWUgfSxcbiAgfSBhcyBUcmFjZVNwYW47XG5cbiAgZXhwZWN0KHNwYW5TZWxlY3RvcnMuZ2V0U3BhblNlcnZpY2VOYW1lKHNwYW4pKS50b0JlKHNlcnZpY2VOYW1lKTtcbn0pO1xuXG5pdCgnZmlsdGVyU3BhbnNGb3JUaW1lc3RhbXBzKCkgc2hvdWxkIHJldHVybiBhIGZpbHRlcmVkIGxpc3Qgb2Ygc3BhbnMgYmV0d2VlbiB0aGUgdGltZXMnLCAoKSA9PiB7XG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICogMTAwMDtcbiAgY29uc3Qgc3BhbnMgPSBbXG4gICAge1xuICAgICAgc3RhcnRUaW1lOiBub3cgLSAxMDAwLFxuICAgICAgc3BhbklEOiAnc3RhcnQtdGltZS0xJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0YXJ0VGltZTogbm93LFxuICAgICAgc3BhbklEOiAnc3RhcnQtdGltZS0yJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0YXJ0VGltZTogbm93ICsgMTAwMCxcbiAgICAgIHNwYW5JRDogJ3N0YXJ0LXRpbWUtMycsXG4gICAgfSxcbiAgXSBhcyBUcmFjZVNwYW5EYXRhW107XG5cbiAgZXhwZWN0KFxuICAgIHNwYW5TZWxlY3RvcnMuZmlsdGVyU3BhbnNGb3JUaW1lc3RhbXBzKHtcbiAgICAgIHNwYW5zLFxuICAgICAgbGVmdEJvdW5kOiBub3cgLSA1MDAsXG4gICAgICByaWdodEJvdW5kOiBub3cgKyA1MDAsXG4gICAgfSlcbiAgKS50b0VxdWFsKFtzcGFuc1sxXV0pO1xuXG4gIGV4cGVjdChcbiAgICBzcGFuU2VsZWN0b3JzLmZpbHRlclNwYW5zRm9yVGltZXN0YW1wcyh7XG4gICAgICBzcGFucyxcbiAgICAgIGxlZnRCb3VuZDogbm93IC0gMjAwMCxcbiAgICAgIHJpZ2h0Qm91bmQ6IG5vdyArIDIwMDAsXG4gICAgfSlcbiAgKS50b0VxdWFsKFsuLi5zcGFuc10pO1xuXG4gIGV4cGVjdChcbiAgICBzcGFuU2VsZWN0b3JzLmZpbHRlclNwYW5zRm9yVGltZXN0YW1wcyh7XG4gICAgICBzcGFucyxcbiAgICAgIGxlZnRCb3VuZDogbm93IC0gMTAwMCxcbiAgICAgIHJpZ2h0Qm91bmQ6IG5vdyxcbiAgICB9KVxuICApLnRvRXF1YWwoW3NwYW5zWzBdLCBzcGFuc1sxXV0pO1xuXG4gIGV4cGVjdChcbiAgICBzcGFuU2VsZWN0b3JzLmZpbHRlclNwYW5zRm9yVGltZXN0YW1wcyh7XG4gICAgICBzcGFucyxcbiAgICAgIGxlZnRCb3VuZDogbm93LFxuICAgICAgcmlnaHRCb3VuZDogbm93ICsgMTAwMCxcbiAgICB9KVxuICApLnRvRXF1YWwoW3NwYW5zWzFdLCBzcGFuc1syXV0pO1xufSk7XG5cbml0KCdmaWx0ZXJTcGFuc0ZvclRleHQoKSBzaG91bGQgcmV0dXJuIGEgZmlsdGVyZWQgbGlzdCBvZiBzcGFucyBiZXR3ZWVuIHRoZSB0aW1lcycsICgpID0+IHtcbiAgY29uc3Qgc3BhbnMgPSBbXG4gICAge1xuICAgICAgb3BlcmF0aW9uTmFtZTogJ0dFVCAvbXl0aGluZycsXG4gICAgICBwcm9jZXNzOiB7XG4gICAgICAgIHNlcnZpY2VOYW1lOiAnYWxwaGEnLFxuICAgICAgfSxcbiAgICAgIHNwYW5JRDogJ3N0YXJ0LXRpbWUtMScsXG4gICAgfSxcbiAgICB7XG4gICAgICBvcGVyYXRpb25OYW1lOiAnR0VUIC9hbm90aGVyJyxcbiAgICAgIHByb2Nlc3M6IHtcbiAgICAgICAgc2VydmljZU5hbWU6ICdiZXRhJyxcbiAgICAgIH0sXG4gICAgICBzcGFuSUQ6ICdzdGFydC10aW1lLTEnLFxuICAgIH0sXG4gICAge1xuICAgICAgb3BlcmF0aW9uTmFtZTogJ1BPU1QgL215dGhpbmcnLFxuICAgICAgcHJvY2Vzczoge1xuICAgICAgICBzZXJ2aWNlTmFtZTogJ2FscGhhJyxcbiAgICAgIH0sXG4gICAgICBzcGFuSUQ6ICdzdGFydC10aW1lLTEnLFxuICAgIH0sXG4gIF0gYXMgVHJhY2VTcGFuW107XG5cbiAgZXhwZWN0KFxuICAgIHNwYW5TZWxlY3RvcnMuZmlsdGVyU3BhbnNGb3JUZXh0KHtcbiAgICAgIHNwYW5zLFxuICAgICAgdGV4dDogJy9teXRoaW5nJyxcbiAgICB9KVxuICApLnRvRXF1YWwoW3NwYW5zWzBdLCBzcGFuc1syXV0pO1xuXG4gIGV4cGVjdChcbiAgICBzcGFuU2VsZWN0b3JzLmZpbHRlclNwYW5zRm9yVGV4dCh7XG4gICAgICBzcGFucyxcbiAgICAgIHRleHQ6ICdHRVQnLFxuICAgIH0pXG4gICkudG9FcXVhbChbc3BhbnNbMF0sIHNwYW5zWzFdXSk7XG5cbiAgZXhwZWN0KFxuICAgIHNwYW5TZWxlY3RvcnMuZmlsdGVyU3BhbnNGb3JUZXh0KHtcbiAgICAgIHNwYW5zLFxuICAgICAgdGV4dDogJ2FscGhhJyxcbiAgICB9KVxuICApLnRvRXF1YWwoW3NwYW5zWzBdLCBzcGFuc1syXV0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFLQSxPQUFPQSxjQUFjLE1BQU0sMEJBQTBCO0FBRXJELE9BQU8sS0FBS0MsYUFBYSxNQUFNLFFBQVE7QUFFdkMsSUFBTUMsY0FBNkIsR0FBR0YsY0FBYyxDQUFDRyxLQUFLLENBQUM7RUFBRUMsYUFBYSxFQUFFO0FBQUcsQ0FBQyxDQUFDO0FBRWpGQyxFQUFFLENBQUMsZ0RBQWdELEVBQUUsWUFBTTtFQUN6RCxJQUFNQyxJQUFJLEdBQUdKLGNBQWMsQ0FBQ0ssS0FBSyxDQUFDLENBQUMsQ0FBQztFQUVwQ0MsTUFBTSxDQUFDUCxhQUFhLENBQUNRLFNBQVMsQ0FBQ0gsSUFBSSxDQUFDLENBQUMsQ0FBQ0ksSUFBSSxDQUFDSixJQUFJLENBQUNLLE1BQU0sQ0FBQztBQUN6RCxDQUFDLENBQUM7QUFFRk4sRUFBRSxDQUFDLGtEQUFrRCxFQUFFLFlBQU07RUFDM0QsSUFBTUMsSUFBSSxHQUFHSixjQUFjLENBQUNLLEtBQUssQ0FBQyxDQUFDLENBQUM7RUFFcENDLE1BQU0sQ0FBQ1AsYUFBYSxDQUFDVyxXQUFXLENBQUNOLElBQUksQ0FBQyxDQUFDLENBQUNJLElBQUksQ0FBQ0osSUFBSSxDQUFDTyxhQUFhLENBQUM7QUFDbEUsQ0FBQyxDQUFDO0FBRUZSLEVBQUUsQ0FBQywwREFBMEQsRUFBRSxZQUFNO0VBQ25FLElBQU1DLElBQUksR0FBR0osY0FBYyxDQUFDSyxLQUFLLENBQUMsQ0FBQyxDQUFDO0VBRXBDQyxNQUFNLENBQUNQLGFBQWEsQ0FBQ2EsZUFBZSxDQUFDUixJQUFJLENBQUMsQ0FBQyxDQUFDSSxJQUFJLENBQUNKLElBQUksQ0FBQ1MsUUFBUSxDQUFDO0FBQ2pFLENBQUMsQ0FBQztBQUVGVixFQUFFLENBQUMsNERBQTRELEVBQUUsWUFBTTtFQUNyRSxJQUFNQyxJQUFJLEdBQUdKLGNBQWMsQ0FBQ0ssS0FBSyxDQUFDLENBQUMsQ0FBQztFQUVwQ0MsTUFBTSxDQUFDUCxhQUFhLENBQUNlLGdCQUFnQixDQUFDVixJQUFJLENBQUMsQ0FBQyxDQUFDSSxJQUFJLENBQUNKLElBQUksQ0FBQ1csU0FBUyxDQUFDO0FBQ25FLENBQUMsQ0FBQztBQUVGWixFQUFFLENBQUMsNERBQTRELEVBQUUsWUFBTTtFQUNyRUcsTUFBTSxDQUFDUCxhQUFhLENBQUNpQixpQkFBaUIsQ0FBQ2hCLGNBQWMsQ0FBQ0ssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ1ksT0FBTyxDQUFDakIsY0FBYyxDQUFDSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUNhLFVBQVUsQ0FBQztBQUM5RyxDQUFDLENBQUM7QUFFRmYsRUFBRSxDQUFDLCtFQUErRSxFQUFFLFlBQU07RUFDeEYsSUFBTUMsSUFBSSxHQUFHSixjQUFjLENBQUNLLEtBQUssQ0FBQyxDQUFDLENBQUM7RUFDcENELElBQUksQ0FBQ2MsVUFBVSxHQUFHQyxTQUFTO0VBQzNCYixNQUFNLENBQUNQLGFBQWEsQ0FBQ2lCLGlCQUFpQixDQUFDWixJQUFJLENBQUMsQ0FBQyxDQUFDYSxPQUFPLENBQUMsRUFBRSxDQUFDO0FBQzNELENBQUMsQ0FBQztBQUVGZCxFQUFFLENBQUMscUVBQXFFLEVBQUUsWUFBTTtFQUFBLElBQUFpQixxQkFBQTtFQUM5RWQsTUFBTSxFQUFBYyxxQkFBQSxHQUNKckIsYUFBYSxDQUFDc0Isc0JBQXNCLENBQUM7SUFDbkNqQixJQUFJLEVBQUVKLGNBQWMsQ0FBQ0ssS0FBSyxDQUFDLENBQUMsQ0FBQztJQUM3QmlCLElBQUksRUFBRTtFQUNSLENBQUMsQ0FBQyxxQkFIRkYscUJBQUEsQ0FHSUcsT0FDTixDQUFDLENBQUNmLElBQUksQ0FBQyxVQUFVLENBQUM7QUFDcEIsQ0FBQyxDQUFDO0FBRUZMLEVBQUUsQ0FBQyx3RUFBd0UsRUFBRSxZQUFNO0VBQ2pGRyxNQUFNLENBQ0pQLGFBQWEsQ0FBQ3NCLHNCQUFzQixDQUFDO0lBQ25DakIsSUFBSSxFQUFFSixjQUFjLENBQUNLLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDN0JpQixJQUFJLEVBQUU7RUFDUixDQUFDLENBQ0gsQ0FBQyxDQUFDZCxJQUFJLENBQUNXLFNBQVMsQ0FBQztBQUNuQixDQUFDLENBQUM7QUFFRmhCLEVBQUUsQ0FBQywrREFBK0QsRUFBRSxZQUFNO0VBQ3hFRyxNQUFNLENBQUNQLGFBQWEsQ0FBQ3lCLGVBQWUsQ0FBQ3hCLGNBQWMsQ0FBQ0ssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ0csSUFBSSxDQUNqRVIsY0FBYyxDQUFDSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUNhLFVBQVUsQ0FBRU8sSUFBSSxDQUFDLFVBQUFDLElBQUE7SUFBQSxJQUFHSCxPQUFPLEdBQUFHLElBQUEsQ0FBUEgsT0FBTztJQUFBLE9BQTRCQSxPQUFPLEtBQUssVUFBVTtFQUFBLEVBQUMsQ0FBRWQsTUFDMUcsQ0FBQztBQUNILENBQUMsQ0FBQztBQUVGTixFQUFFLENBQUMsc0VBQXNFLEVBQUUsWUFBTTtFQUMvRUcsTUFBTSxDQUFDUCxhQUFhLENBQUN5QixlQUFlLENBQUN4QixjQUFjLENBQUNLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNHLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDM0UsQ0FBQyxDQUFDO0FBRUZMLEVBQUUsQ0FBQyw0REFBNEQsRUFBRSxZQUFNO0VBQ3JFLElBQU1DLElBQUksR0FBR0osY0FBYyxDQUFDSyxLQUFLLENBQUMsQ0FBQyxDQUFDO0VBRXBDQyxNQUFNLENBQUNQLGFBQWEsQ0FBQzRCLGdCQUFnQixDQUFDdkIsSUFBSSxDQUFDLENBQUMsQ0FBQ0ksSUFBSSxDQUFDSixJQUFJLENBQUN3QixTQUFTLENBQUM7QUFDbkUsQ0FBQyxDQUFDO0FBRUZ6QixFQUFFLENBQUMsd0RBQXdELEVBQUUsWUFBTTtFQUNqRSxJQUFNMEIsV0FBVyxHQUFHLE9BQU87RUFDM0IsSUFBTXpCLElBQUksR0FBQTBCLFFBQUEsS0FDTDlCLGNBQWMsQ0FBQ0ssS0FBSyxDQUFDLENBQUMsQ0FBQztJQUMxQjBCLE9BQU8sRUFBRTtNQUFFRixXQUFXLEVBQVhBO0lBQVk7RUFBQyxFQUNaO0VBRWR2QixNQUFNLENBQUNQLGFBQWEsQ0FBQ2lDLGNBQWMsQ0FBQzVCLElBQUksQ0FBQyxDQUFDLENBQUNJLElBQUksQ0FBQ0osSUFBSSxDQUFDMkIsT0FBTyxDQUFDO0FBQy9ELENBQUMsQ0FBQztBQUVGNUIsRUFBRSxDQUFDLG9EQUFvRCxFQUFFLFlBQU07RUFDN0RHLE1BQU0sQ0FBQztJQUFBLE9BQU1QLGFBQWEsQ0FBQ2lDLGNBQWMsQ0FBQ2hDLGNBQWMsQ0FBQ0ssS0FBSyxDQUFDLENBQUMsQ0FBYyxDQUFDO0VBQUEsRUFBQyxDQUFDNEIsT0FBTyxDQUFDLENBQUM7QUFDNUYsQ0FBQyxDQUFDO0FBRUY5QixFQUFFLENBQUMsaUVBQWlFLEVBQUUsWUFBTTtFQUMxRSxJQUFNMEIsV0FBVyxHQUFHLE9BQU87RUFDM0IsSUFBTXpCLElBQUksR0FBQTBCLFFBQUEsS0FDTDlCLGNBQWMsQ0FBQ0ssS0FBSyxDQUFDLENBQUMsQ0FBQztJQUMxQjBCLE9BQU8sRUFBRTtNQUFFRixXQUFXLEVBQVhBO0lBQVk7RUFBQyxFQUNaO0VBRWR2QixNQUFNLENBQUNQLGFBQWEsQ0FBQ21DLGtCQUFrQixDQUFDOUIsSUFBSSxDQUFDLENBQUMsQ0FBQ0ksSUFBSSxDQUFDcUIsV0FBVyxDQUFDO0FBQ2xFLENBQUMsQ0FBQztBQUVGMUIsRUFBRSxDQUFDLHFGQUFxRixFQUFFLFlBQU07RUFDOUYsSUFBTWdDLEdBQUcsR0FBRyxJQUFJQyxJQUFJLENBQUMsQ0FBQyxDQUFDQyxPQUFPLENBQUMsQ0FBQyxHQUFHLElBQUk7RUFDdkMsSUFBTWhDLEtBQUssR0FBRyxDQUNaO0lBQ0VVLFNBQVMsRUFBRW9CLEdBQUcsR0FBRyxJQUFJO0lBQ3JCMUIsTUFBTSxFQUFFO0VBQ1YsQ0FBQyxFQUNEO0lBQ0VNLFNBQVMsRUFBRW9CLEdBQUc7SUFDZDFCLE1BQU0sRUFBRTtFQUNWLENBQUMsRUFDRDtJQUNFTSxTQUFTLEVBQUVvQixHQUFHLEdBQUcsSUFBSTtJQUNyQjFCLE1BQU0sRUFBRTtFQUNWLENBQUMsQ0FDaUI7RUFFcEJILE1BQU0sQ0FDSlAsYUFBYSxDQUFDdUMsd0JBQXdCLENBQUM7SUFDckNqQyxLQUFLLEVBQUxBLEtBQUs7SUFDTGtDLFNBQVMsRUFBRUosR0FBRyxHQUFHLEdBQUc7SUFDcEJLLFVBQVUsRUFBRUwsR0FBRyxHQUFHO0VBQ3BCLENBQUMsQ0FDSCxDQUFDLENBQUNsQixPQUFPLENBQUMsQ0FBQ1osS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFFckJDLE1BQU0sQ0FDSlAsYUFBYSxDQUFDdUMsd0JBQXdCLENBQUM7SUFDckNqQyxLQUFLLEVBQUxBLEtBQUs7SUFDTGtDLFNBQVMsRUFBRUosR0FBRyxHQUFHLElBQUk7SUFDckJLLFVBQVUsRUFBRUwsR0FBRyxHQUFHO0VBQ3BCLENBQUMsQ0FDSCxDQUFDLENBQUNsQixPQUFPLElBQUF3QixNQUFBLENBQUtwQyxLQUFLLENBQUMsQ0FBQztFQUVyQkMsTUFBTSxDQUNKUCxhQUFhLENBQUN1Qyx3QkFBd0IsQ0FBQztJQUNyQ2pDLEtBQUssRUFBTEEsS0FBSztJQUNMa0MsU0FBUyxFQUFFSixHQUFHLEdBQUcsSUFBSTtJQUNyQkssVUFBVSxFQUFFTDtFQUNkLENBQUMsQ0FDSCxDQUFDLENBQUNsQixPQUFPLENBQUMsQ0FBQ1osS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFQSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUUvQkMsTUFBTSxDQUNKUCxhQUFhLENBQUN1Qyx3QkFBd0IsQ0FBQztJQUNyQ2pDLEtBQUssRUFBTEEsS0FBSztJQUNMa0MsU0FBUyxFQUFFSixHQUFHO0lBQ2RLLFVBQVUsRUFBRUwsR0FBRyxHQUFHO0VBQ3BCLENBQUMsQ0FDSCxDQUFDLENBQUNsQixPQUFPLENBQUMsQ0FBQ1osS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFQSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqQyxDQUFDLENBQUM7QUFFRkYsRUFBRSxDQUFDLCtFQUErRSxFQUFFLFlBQU07RUFDeEYsSUFBTUUsS0FBSyxHQUFHLENBQ1o7SUFDRU0sYUFBYSxFQUFFLGNBQWM7SUFDN0JvQixPQUFPLEVBQUU7TUFDUEYsV0FBVyxFQUFFO0lBQ2YsQ0FBQztJQUNEcEIsTUFBTSxFQUFFO0VBQ1YsQ0FBQyxFQUNEO0lBQ0VFLGFBQWEsRUFBRSxjQUFjO0lBQzdCb0IsT0FBTyxFQUFFO01BQ1BGLFdBQVcsRUFBRTtJQUNmLENBQUM7SUFDRHBCLE1BQU0sRUFBRTtFQUNWLENBQUMsRUFDRDtJQUNFRSxhQUFhLEVBQUUsZUFBZTtJQUM5Qm9CLE9BQU8sRUFBRTtNQUNQRixXQUFXLEVBQUU7SUFDZixDQUFDO0lBQ0RwQixNQUFNLEVBQUU7RUFDVixDQUFDLENBQ2E7RUFFaEJILE1BQU0sQ0FDSlAsYUFBYSxDQUFDMkMsa0JBQWtCLENBQUM7SUFDL0JyQyxLQUFLLEVBQUxBLEtBQUs7SUFDTHNDLElBQUksRUFBRTtFQUNSLENBQUMsQ0FDSCxDQUFDLENBQUMxQixPQUFPLENBQUMsQ0FBQ1osS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFQSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUUvQkMsTUFBTSxDQUNKUCxhQUFhLENBQUMyQyxrQkFBa0IsQ0FBQztJQUMvQnJDLEtBQUssRUFBTEEsS0FBSztJQUNMc0MsSUFBSSxFQUFFO0VBQ1IsQ0FBQyxDQUNILENBQUMsQ0FBQzFCLE9BQU8sQ0FBQyxDQUFDWixLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUVBLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBRS9CQyxNQUFNLENBQ0pQLGFBQWEsQ0FBQzJDLGtCQUFrQixDQUFDO0lBQy9CckMsS0FBSyxFQUFMQSxLQUFLO0lBQ0xzQyxJQUFJLEVBQUU7RUFDUixDQUFDLENBQ0gsQ0FBQyxDQUFDMUIsT0FBTyxDQUFDLENBQUNaLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRUEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakMsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119