// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

import Combokeys from 'combokeys';
import keyboardMappings from './keyboard-mappings';
var instance;
function getInstance() {
  if (instance) {
    return instance;
  }
  var local = new Combokeys(document.body);
  instance = local;
  return local;
}
export function merge(callbacks) {
  var inst = getInstance();
  Object.keys(callbacks).forEach(function (name) {
    var keysHandler = callbacks[name];
    if (keysHandler) {
      inst.bind(keyboardMappings[name].binding, keysHandler);
    }
  });
}
export function reset() {
  var combokeys = getInstance();
  combokeys.reset();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb21ib2tleXMiLCJrZXlib2FyZE1hcHBpbmdzIiwiaW5zdGFuY2UiLCJnZXRJbnN0YW5jZSIsImxvY2FsIiwiZG9jdW1lbnQiLCJib2R5IiwibWVyZ2UiLCJjYWxsYmFja3MiLCJpbnN0IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJuYW1lIiwia2V5c0hhbmRsZXIiLCJiaW5kIiwiYmluZGluZyIsInJlc2V0IiwiY29tYm9rZXlzIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xpYi9rZXlib2FyZC1zaG9ydGN1dHMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxNyBVYmVyIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgQ29tYm9rZXlzIGZyb20gJ2NvbWJva2V5cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBrZXlib2FyZE1hcHBpbmdzIGZyb20gJy4va2V5Ym9hcmQtbWFwcGluZ3MnO1xuXG5leHBvcnQgdHlwZSBDb21ib2tleXNIYW5kbGVyID1cbiAgfCAoKCkgPT4gdm9pZClcbiAgfCAoKGV2ZW50OiBSZWFjdC5LZXlib2FyZEV2ZW50PGFueT4pID0+IHZvaWQpXG4gIHwgKChldmVudDogUmVhY3QuS2V5Ym9hcmRFdmVudDxhbnk+LCBzOiBzdHJpbmcpID0+IHZvaWQpO1xuXG5leHBvcnQgdHlwZSBTaG9ydGN1dENhbGxiYWNrcyA9IHtcbiAgW25hbWU6IHN0cmluZ106IENvbWJva2V5c0hhbmRsZXI7XG59O1xuXG5sZXQgaW5zdGFuY2U6IENvbWJva2V5cyB8IHVuZGVmaW5lZDtcblxuZnVuY3Rpb24gZ2V0SW5zdGFuY2UoKTogQ29tYm9rZXlzIHtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG4gIGNvbnN0IGxvY2FsID0gbmV3IENvbWJva2V5cyhkb2N1bWVudC5ib2R5KTtcbiAgaW5zdGFuY2UgPSBsb2NhbDtcbiAgcmV0dXJuIGxvY2FsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoY2FsbGJhY2tzOiBTaG9ydGN1dENhbGxiYWNrcykge1xuICBjb25zdCBpbnN0ID0gZ2V0SW5zdGFuY2UoKTtcbiAgT2JqZWN0LmtleXMoY2FsbGJhY2tzKS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgY29uc3Qga2V5c0hhbmRsZXIgPSBjYWxsYmFja3NbbmFtZV07XG4gICAgaWYgKGtleXNIYW5kbGVyKSB7XG4gICAgICBpbnN0LmJpbmQoa2V5Ym9hcmRNYXBwaW5nc1tuYW1lXS5iaW5kaW5nLCBrZXlzSGFuZGxlcik7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0KCkge1xuICBjb25zdCBjb21ib2tleXMgPSBnZXRJbnN0YW5jZSgpO1xuICBjb21ib2tleXMucmVzZXQoKTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsU0FBUyxNQUFNLFdBQVc7QUFHakMsT0FBT0MsZ0JBQWdCLE1BQU0scUJBQXFCO0FBV2xELElBQUlDLFFBQStCO0FBRW5DLFNBQVNDLFdBQVdBLENBQUEsRUFBYztFQUNoQyxJQUFJRCxRQUFRLEVBQUU7SUFDWixPQUFPQSxRQUFRO0VBQ2pCO0VBQ0EsSUFBTUUsS0FBSyxHQUFHLElBQUlKLFNBQVMsQ0FBQ0ssUUFBUSxDQUFDQyxJQUFJLENBQUM7RUFDMUNKLFFBQVEsR0FBR0UsS0FBSztFQUNoQixPQUFPQSxLQUFLO0FBQ2Q7QUFFQSxPQUFPLFNBQVNHLEtBQUtBLENBQUNDLFNBQTRCLEVBQUU7RUFDbEQsSUFBTUMsSUFBSSxHQUFHTixXQUFXLENBQUMsQ0FBQztFQUMxQk8sTUFBTSxDQUFDQyxJQUFJLENBQUNILFNBQVMsQ0FBQyxDQUFDSSxPQUFPLENBQUMsVUFBQ0MsSUFBSSxFQUFLO0lBQ3ZDLElBQU1DLFdBQVcsR0FBR04sU0FBUyxDQUFDSyxJQUFJLENBQUM7SUFDbkMsSUFBSUMsV0FBVyxFQUFFO01BQ2ZMLElBQUksQ0FBQ00sSUFBSSxDQUFDZCxnQkFBZ0IsQ0FBQ1ksSUFBSSxDQUFDLENBQUNHLE9BQU8sRUFBRUYsV0FBVyxDQUFDO0lBQ3hEO0VBQ0YsQ0FBQyxDQUFDO0FBQ0o7QUFFQSxPQUFPLFNBQVNHLEtBQUtBLENBQUEsRUFBRztFQUN0QixJQUFNQyxTQUFTLEdBQUdmLFdBQVcsQ0FBQyxDQUFDO0VBQy9CZSxTQUFTLENBQUNELEtBQUssQ0FBQyxDQUFDO0FBQ25CIiwiaWdub3JlTGlzdCI6W119