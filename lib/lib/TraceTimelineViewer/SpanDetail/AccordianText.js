import _extends from "@babel/runtime/helpers/extends";
import _taggedTemplateLiteralLoose from "@babel/runtime/helpers/taggedTemplateLiteralLoose";
var _templateObject;
// Copyright (c) 2019 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

import { css } from '@emotion/css';
import cx from 'classnames';
import * as React from 'react';
import IoIosArrowDown from 'react-icons/lib/io/ios-arrow-down';
import IoIosArrowRight from 'react-icons/lib/io/ios-arrow-right';
import { useStyles2 } from '@grafana/ui';
import { autoColor } from '../../Theme';
import { uAlignIcon } from '../../uberUtilityStyles';
import { getStyles as getAccordianKeyValuesStyles } from './AccordianKeyValues';
import TextList from './TextList';
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
var getStyles = function getStyles(theme) {
  return {
    header: css(_templateObject || (_templateObject = _taggedTemplateLiteralLoose(["\n      cursor: pointer;\n      overflow: hidden;\n      padding: 0.25em 0.1em;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      &:hover {\n        background: ", ";\n      }\n    "])), autoColor(theme, '#e8e8e8'))
  };
};
function DefaultTextComponent(_ref) {
  var data = _ref.data;
  return /*#__PURE__*/_jsx(TextList, {
    data: data
  });
}
export default function AccordianText(props) {
  var _cx;
  var className = props.className,
    data = props.data,
    headerClassName = props.headerClassName,
    interactive = props.interactive,
    isOpen = props.isOpen,
    label = props.label,
    onToggle = props.onToggle,
    _props$TextComponent = props.TextComponent,
    TextComponent = _props$TextComponent === void 0 ? DefaultTextComponent : _props$TextComponent;
  var isEmpty = !Array.isArray(data) || !data.length;
  var accordianKeyValuesStyles = useStyles2(getAccordianKeyValuesStyles);
  var iconCls = cx(uAlignIcon, (_cx = {}, _cx[accordianKeyValuesStyles.emptyIcon] = isEmpty, _cx));
  var arrow = null;
  var headerProps = null;
  if (interactive) {
    arrow = isOpen ? /*#__PURE__*/_jsx(IoIosArrowDown, {
      className: iconCls
    }) : /*#__PURE__*/_jsx(IoIosArrowRight, {
      className: iconCls
    });
    headerProps = {
      'aria-checked': isOpen,
      onClick: isEmpty ? null : onToggle,
      role: 'switch'
    };
  }
  var styles = useStyles2(getStyles);
  return /*#__PURE__*/_jsxs("div", {
    className: className || '',
    children: [/*#__PURE__*/_jsxs("div", _extends({
      className: cx(styles.header, headerClassName)
    }, headerProps, {
      "data-testid": "AccordianText--header",
      children: [arrow, /*#__PURE__*/_jsx("strong", {
        children: label
      }), " (", data.length, ")"]
    })), isOpen && /*#__PURE__*/_jsx(TextComponent, {
      data: data
    })]
  });
}
AccordianText.defaultProps = {
  className: null,
  highContrast: false,
  interactive: true,
  onToggle: null
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjc3MiLCJjeCIsIlJlYWN0IiwiSW9Jb3NBcnJvd0Rvd24iLCJJb0lvc0Fycm93UmlnaHQiLCJ1c2VTdHlsZXMyIiwiYXV0b0NvbG9yIiwidUFsaWduSWNvbiIsImdldFN0eWxlcyIsImdldEFjY29yZGlhbktleVZhbHVlc1N0eWxlcyIsIlRleHRMaXN0IiwianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsInRoZW1lIiwiaGVhZGVyIiwiX3RlbXBsYXRlT2JqZWN0IiwiX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlIiwiRGVmYXVsdFRleHRDb21wb25lbnQiLCJfcmVmIiwiZGF0YSIsIkFjY29yZGlhblRleHQiLCJwcm9wcyIsIl9jeCIsImNsYXNzTmFtZSIsImhlYWRlckNsYXNzTmFtZSIsImludGVyYWN0aXZlIiwiaXNPcGVuIiwibGFiZWwiLCJvblRvZ2dsZSIsIl9wcm9wcyRUZXh0Q29tcG9uZW50IiwiVGV4dENvbXBvbmVudCIsImlzRW1wdHkiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJhY2NvcmRpYW5LZXlWYWx1ZXNTdHlsZXMiLCJpY29uQ2xzIiwiZW1wdHlJY29uIiwiYXJyb3ciLCJoZWFkZXJQcm9wcyIsIm9uQ2xpY2siLCJyb2xlIiwic3R5bGVzIiwiY2hpbGRyZW4iLCJfZXh0ZW5kcyIsImRlZmF1bHRQcm9wcyIsImhpZ2hDb250cmFzdCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvVHJhY2VUaW1lbGluZVZpZXdlci9TcGFuRGV0YWlsL0FjY29yZGlhblRleHQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxOSBVYmVyIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9jc3MnO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IElvSW9zQXJyb3dEb3duIGZyb20gJ3JlYWN0LWljb25zL2xpYi9pby9pb3MtYXJyb3ctZG93bic7XG5pbXBvcnQgSW9Jb3NBcnJvd1JpZ2h0IGZyb20gJ3JlYWN0LWljb25zL2xpYi9pby9pb3MtYXJyb3ctcmlnaHQnO1xuXG5pbXBvcnQgeyBHcmFmYW5hVGhlbWUyIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyB1c2VTdHlsZXMyIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbXBvcnQgeyBhdXRvQ29sb3IgfSBmcm9tICcuLi8uLi9UaGVtZSc7XG5pbXBvcnQgeyBUTmlsIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgdUFsaWduSWNvbiB9IGZyb20gJy4uLy4uL3ViZXJVdGlsaXR5U3R5bGVzJztcblxuaW1wb3J0IHsgZ2V0U3R5bGVzIGFzIGdldEFjY29yZGlhbktleVZhbHVlc1N0eWxlcyB9IGZyb20gJy4vQWNjb3JkaWFuS2V5VmFsdWVzJztcbmltcG9ydCBUZXh0TGlzdCBmcm9tICcuL1RleHRMaXN0JztcblxuY29uc3QgZ2V0U3R5bGVzID0gKHRoZW1lOiBHcmFmYW5hVGhlbWUyKSA9PiB7XG4gIHJldHVybiB7XG4gICAgaGVhZGVyOiBjc3NgXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgcGFkZGluZzogMC4yNWVtIDAuMWVtO1xuICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgJjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7YXV0b0NvbG9yKHRoZW1lLCAnI2U4ZThlOCcpfTtcbiAgICAgIH1cbiAgICBgLFxuICB9O1xufTtcblxudHlwZSBBY2NvcmRpYW5UZXh0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZT86IHN0cmluZyB8IFROaWw7XG4gIGhlYWRlckNsYXNzTmFtZT86IHN0cmluZyB8IFROaWw7XG4gIGRhdGE6IHN0cmluZ1tdO1xuICBoaWdoQ29udHJhc3Q/OiBib29sZWFuO1xuICBpbnRlcmFjdGl2ZT86IGJvb2xlYW47XG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgbGFiZWw6IFJlYWN0LlJlYWN0Tm9kZSB8IHN0cmluZztcbiAgb25Ub2dnbGU/OiBudWxsIHwgKCgpID0+IHZvaWQpO1xuICBUZXh0Q29tcG9uZW50PzogUmVhY3QuRWxlbWVudFR5cGU8eyBkYXRhOiBzdHJpbmdbXSB9Pjtcbn07XG5cbmZ1bmN0aW9uIERlZmF1bHRUZXh0Q29tcG9uZW50KHsgZGF0YSB9OiB7IGRhdGE6IHN0cmluZ1tdIH0pIHtcbiAgcmV0dXJuIDxUZXh0TGlzdCBkYXRhPXtkYXRhfSAvPjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWNjb3JkaWFuVGV4dChwcm9wczogQWNjb3JkaWFuVGV4dFByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjbGFzc05hbWUsXG4gICAgZGF0YSxcbiAgICBoZWFkZXJDbGFzc05hbWUsXG4gICAgaW50ZXJhY3RpdmUsXG4gICAgaXNPcGVuLFxuICAgIGxhYmVsLFxuICAgIG9uVG9nZ2xlLFxuICAgIFRleHRDb21wb25lbnQgPSBEZWZhdWx0VGV4dENvbXBvbmVudCxcbiAgfSA9IHByb3BzO1xuICBjb25zdCBpc0VtcHR5ID0gIUFycmF5LmlzQXJyYXkoZGF0YSkgfHwgIWRhdGEubGVuZ3RoO1xuICBjb25zdCBhY2NvcmRpYW5LZXlWYWx1ZXNTdHlsZXMgPSB1c2VTdHlsZXMyKGdldEFjY29yZGlhbktleVZhbHVlc1N0eWxlcyk7XG4gIGNvbnN0IGljb25DbHMgPSBjeCh1QWxpZ25JY29uLCB7IFthY2NvcmRpYW5LZXlWYWx1ZXNTdHlsZXMuZW1wdHlJY29uXTogaXNFbXB0eSB9KTtcbiAgbGV0IGFycm93OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsID0gbnVsbDtcbiAgbGV0IGhlYWRlclByb3BzOiB7fSB8IG51bGwgPSBudWxsO1xuICBpZiAoaW50ZXJhY3RpdmUpIHtcbiAgICBhcnJvdyA9IGlzT3BlbiA/IDxJb0lvc0Fycm93RG93biBjbGFzc05hbWU9e2ljb25DbHN9IC8+IDogPElvSW9zQXJyb3dSaWdodCBjbGFzc05hbWU9e2ljb25DbHN9IC8+O1xuICAgIGhlYWRlclByb3BzID0ge1xuICAgICAgJ2FyaWEtY2hlY2tlZCc6IGlzT3BlbixcbiAgICAgIG9uQ2xpY2s6IGlzRW1wdHkgPyBudWxsIDogb25Ub2dnbGUsXG4gICAgICByb2xlOiAnc3dpdGNoJyxcbiAgICB9O1xuICB9XG4gIGNvbnN0IHN0eWxlcyA9IHVzZVN0eWxlczIoZ2V0U3R5bGVzKTtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lIHx8ICcnfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjeChzdHlsZXMuaGVhZGVyLCBoZWFkZXJDbGFzc05hbWUpfSB7Li4uaGVhZGVyUHJvcHN9IGRhdGEtdGVzdGlkPVwiQWNjb3JkaWFuVGV4dC0taGVhZGVyXCI+XG4gICAgICAgIHthcnJvd31cbiAgICAgICAgPHN0cm9uZz57bGFiZWx9PC9zdHJvbmc+ICh7ZGF0YS5sZW5ndGh9KVxuICAgICAgPC9kaXY+XG4gICAgICB7aXNPcGVuICYmIDxUZXh0Q29tcG9uZW50IGRhdGE9e2RhdGF9IC8+fVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5BY2NvcmRpYW5UZXh0LmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiBudWxsLFxuICBoaWdoQ29udHJhc3Q6IGZhbHNlLFxuICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgb25Ub2dnbGU6IG51bGwsXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQSxHQUFHLFFBQVEsY0FBYztBQUNsQyxPQUFPQyxFQUFFLE1BQU0sWUFBWTtBQUMzQixPQUFPLEtBQUtDLEtBQUssTUFBTSxPQUFPO0FBQzlCLE9BQU9DLGNBQWMsTUFBTSxtQ0FBbUM7QUFDOUQsT0FBT0MsZUFBZSxNQUFNLG9DQUFvQztBQUdoRSxTQUFTQyxVQUFVLFFBQVEsYUFBYTtBQUV4QyxTQUFTQyxTQUFTLFFBQVEsYUFBYTtBQUV2QyxTQUFTQyxVQUFVLFFBQVEseUJBQXlCO0FBRXBELFNBQVNDLFNBQVMsSUFBSUMsMkJBQTJCLFFBQVEsc0JBQXNCO0FBQy9FLE9BQU9DLFFBQVEsTUFBTSxZQUFZO0FBQUMsU0FBQUMsR0FBQSxJQUFBQyxJQUFBLEVBQUFDLElBQUEsSUFBQUMsS0FBQTtBQUVsQyxJQUFNTixTQUFTLEdBQUcsU0FBWkEsU0FBU0EsQ0FBSU8sS0FBb0IsRUFBSztFQUMxQyxPQUFPO0lBQ0xDLE1BQU0sRUFBRWhCLEdBQUcsQ0FBQWlCLGVBQUEsS0FBQUEsZUFBQSxHQUFBQywyQkFB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