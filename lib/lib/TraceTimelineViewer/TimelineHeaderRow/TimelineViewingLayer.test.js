import _extends from "@babel/runtime/helpers/extends";
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

import { render, screen } from '@testing-library/react';
import React from 'react';
import TimelineViewingLayer from './TimelineViewingLayer';
import { jsx as _jsx } from "react/jsx-runtime";
describe('<TimelineViewingLayer>', function () {
  var viewStart = 0.25;
  var viewEnd = 0.9;
  var props = {
    boundsInvalidator: Math.random(),
    updateNextViewRangeTime: jest.fn(),
    updateViewRangeTime: jest.fn(),
    viewRangeTime: {
      current: [viewStart, viewEnd]
    }
  };
  it('renders without exploding', function () {
    render( /*#__PURE__*/_jsx(TimelineViewingLayer, _extends({}, props)));
    expect(screen.getByTestId('TimelineViewingLayer')).toBeTruthy();
  });
  describe('render()', function () {
    it('renders nothing without a nextViewRangeTime', function () {
      render( /*#__PURE__*/_jsx(TimelineViewingLayer, _extends({}, props)));
      expect(screen.queryByTestId('TimelineViewingLayer--cursorGuide')).not.toBeInTheDocument();
    });
  });
  it('renders the cursor when it is the only non-current value set', function () {
    var cursor = viewStart + 0.5 * (viewEnd - viewStart);
    var baseViewRangeTime = _extends({}, props.viewRangeTime, {
      cursor: cursor
    });
    props = _extends({}, props, {
      viewRangeTime: baseViewRangeTime
    });
    render( /*#__PURE__*/_jsx(TimelineViewingLayer, _extends({}, props)));
    expect(screen.queryByTestId('TimelineViewingLayer--cursorGuide')).toBeInTheDocument();
  });
  it('does not render the cursor when shiftStart, shiftEnd, or reframe are present', function () {
    var cursor = viewStart + 0.5 * (viewEnd - viewStart);
    var baseViewRangeTime = _extends({}, props.viewRangeTime, {
      cursor: cursor
    });
    var viewRangeTime = _extends({}, baseViewRangeTime, {
      shiftStart: cursor,
      shiftEnd: cursor,
      reframe: {
        anchor: cursor,
        shift: cursor
      }
    });
    props = _extends({}, props, {
      viewRangeTime: viewRangeTime
    });
    render( /*#__PURE__*/_jsx(TimelineViewingLayer, _extends({}, props)));
    expect(screen.queryByTestId('TimelineViewingLayer--cursorGuide')).not.toBeInTheDocument();
    viewRangeTime = _extends({}, baseViewRangeTime, {
      shiftEnd: cursor
    });
    props = _extends({}, props, {
      viewRangeTime: viewRangeTime
    });
    render( /*#__PURE__*/_jsx(TimelineViewingLayer, _extends({}, props)));
    expect(screen.queryByTestId('TimelineViewingLayer--cursorGuide')).not.toBeInTheDocument();
    viewRangeTime = _extends({}, baseViewRangeTime, {
      reframe: {
        anchor: cursor,
        shift: cursor
      }
    });
    props = _extends({}, props, {
      viewRangeTime: viewRangeTime
    });
    render( /*#__PURE__*/_jsx(TimelineViewingLayer, _extends({}, props)));
    expect(screen.queryByTestId('TimelineViewingLayer--cursorGuide')).not.toBeInTheDocument();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZW5kZXIiLCJzY3JlZW4iLCJSZWFjdCIsIlRpbWVsaW5lVmlld2luZ0xheWVyIiwianN4IiwiX2pzeCIsImRlc2NyaWJlIiwidmlld1N0YXJ0Iiwidmlld0VuZCIsInByb3BzIiwiYm91bmRzSW52YWxpZGF0b3IiLCJNYXRoIiwicmFuZG9tIiwidXBkYXRlTmV4dFZpZXdSYW5nZVRpbWUiLCJqZXN0IiwiZm4iLCJ1cGRhdGVWaWV3UmFuZ2VUaW1lIiwidmlld1JhbmdlVGltZSIsImN1cnJlbnQiLCJpdCIsIl9leHRlbmRzIiwiZXhwZWN0IiwiZ2V0QnlUZXN0SWQiLCJ0b0JlVHJ1dGh5IiwicXVlcnlCeVRlc3RJZCIsIm5vdCIsInRvQmVJblRoZURvY3VtZW50IiwiY3Vyc29yIiwiYmFzZVZpZXdSYW5nZVRpbWUiLCJzaGlmdFN0YXJ0Iiwic2hpZnRFbmQiLCJyZWZyYW1lIiwiYW5jaG9yIiwic2hpZnQiXSwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbGliL1RyYWNlVGltZWxpbmVWaWV3ZXIvVGltZWxpbmVIZWFkZXJSb3cvVGltZWxpbmVWaWV3aW5nTGF5ZXIudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDE3IFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBWaWV3UmFuZ2VUaW1lIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQgVGltZWxpbmVWaWV3aW5nTGF5ZXIsIHsgVGltZWxpbmVWaWV3aW5nTGF5ZXJQcm9wcyB9IGZyb20gJy4vVGltZWxpbmVWaWV3aW5nTGF5ZXInO1xuXG5kZXNjcmliZSgnPFRpbWVsaW5lVmlld2luZ0xheWVyPicsICgpID0+IHtcbiAgY29uc3Qgdmlld1N0YXJ0ID0gMC4yNTtcbiAgY29uc3Qgdmlld0VuZCA9IDAuOTtcblxuICBsZXQgcHJvcHM6IFRpbWVsaW5lVmlld2luZ0xheWVyUHJvcHMgPSB7XG4gICAgYm91bmRzSW52YWxpZGF0b3I6IE1hdGgucmFuZG9tKCksXG4gICAgdXBkYXRlTmV4dFZpZXdSYW5nZVRpbWU6IGplc3QuZm4oKSxcbiAgICB1cGRhdGVWaWV3UmFuZ2VUaW1lOiBqZXN0LmZuKCksXG4gICAgdmlld1JhbmdlVGltZToge1xuICAgICAgY3VycmVudDogW3ZpZXdTdGFydCwgdmlld0VuZF0gYXMgW251bWJlciwgbnVtYmVyXSxcbiAgICB9LFxuICB9O1xuXG4gIGl0KCdyZW5kZXJzIHdpdGhvdXQgZXhwbG9kaW5nJywgKCkgPT4ge1xuICAgIHJlbmRlcig8VGltZWxpbmVWaWV3aW5nTGF5ZXIgey4uLnByb3BzfSAvPik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnVGltZWxpbmVWaWV3aW5nTGF5ZXInKSkudG9CZVRydXRoeSgpO1xuICB9KTtcblxuICBkZXNjcmliZSgncmVuZGVyKCknLCAoKSA9PiB7XG4gICAgaXQoJ3JlbmRlcnMgbm90aGluZyB3aXRob3V0IGEgbmV4dFZpZXdSYW5nZVRpbWUnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFRpbWVsaW5lVmlld2luZ0xheWVyIHsuLi5wcm9wc30gLz4pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdUaW1lbGluZVZpZXdpbmdMYXllci0tY3Vyc29yR3VpZGUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdyZW5kZXJzIHRoZSBjdXJzb3Igd2hlbiBpdCBpcyB0aGUgb25seSBub24tY3VycmVudCB2YWx1ZSBzZXQnLCAoKSA9PiB7XG4gICAgY29uc3QgY3Vyc29yID0gdmlld1N0YXJ0ICsgMC41ICogKHZpZXdFbmQgLSB2aWV3U3RhcnQpO1xuICAgIGNvbnN0IGJhc2VWaWV3UmFuZ2VUaW1lID0geyAuLi5wcm9wcy52aWV3UmFuZ2VUaW1lLCBjdXJzb3IgfTtcbiAgICBwcm9wcyA9IHsgLi4ucHJvcHMsIHZpZXdSYW5nZVRpbWU6IGJhc2VWaWV3UmFuZ2VUaW1lIH07XG4gICAgcmVuZGVyKDxUaW1lbGluZVZpZXdpbmdMYXllciB7Li4ucHJvcHN9IC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ1RpbWVsaW5lVmlld2luZ0xheWVyLS1jdXJzb3JHdWlkZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnZG9lcyBub3QgcmVuZGVyIHRoZSBjdXJzb3Igd2hlbiBzaGlmdFN0YXJ0LCBzaGlmdEVuZCwgb3IgcmVmcmFtZSBhcmUgcHJlc2VudCcsICgpID0+IHtcbiAgICBjb25zdCBjdXJzb3IgPSB2aWV3U3RhcnQgKyAwLjUgKiAodmlld0VuZCAtIHZpZXdTdGFydCk7XG4gICAgY29uc3QgYmFzZVZpZXdSYW5nZVRpbWUgPSB7IC4uLnByb3BzLnZpZXdSYW5nZVRpbWUsIGN1cnNvciB9O1xuXG4gICAgbGV0IHZpZXdSYW5nZVRpbWU6IFZpZXdSYW5nZVRpbWUgPSB7XG4gICAgICAuLi5iYXNlVmlld1JhbmdlVGltZSxcbiAgICAgIHNoaWZ0U3RhcnQ6IGN1cnNvcixcbiAgICAgIHNoaWZ0RW5kOiBjdXJzb3IsXG4gICAgICByZWZyYW1lOiB7IGFuY2hvcjogY3Vyc29yLCBzaGlmdDogY3Vyc29yIH0sXG4gICAgfTtcblxuICAgIHByb3BzID0geyAuLi5wcm9wcywgdmlld1JhbmdlVGltZSB9O1xuICAgIHJlbmRlcig8VGltZWxpbmVWaWV3aW5nTGF5ZXIgey4uLnByb3BzfSAvPik7XG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdUaW1lbGluZVZpZXdpbmdMYXllci0tY3Vyc29yR3VpZGUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICB2aWV3UmFuZ2VUaW1lID0geyAuLi5iYXNlVmlld1JhbmdlVGltZSwgc2hpZnRFbmQ6IGN1cnNvciB9O1xuICAgIHByb3BzID0geyAuLi5wcm9wcywgdmlld1JhbmdlVGltZSB9O1xuICAgIHJlbmRlcig8VGltZWxpbmVWaWV3aW5nTGF5ZXIgey4uLnByb3BzfSAvPik7XG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdUaW1lbGluZVZpZXdpbmdMYXllci0tY3Vyc29yR3VpZGUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICB2aWV3UmFuZ2VUaW1lID0geyAuLi5iYXNlVmlld1JhbmdlVGltZSwgcmVmcmFtZTogeyBhbmNob3I6IGN1cnNvciwgc2hpZnQ6IGN1cnNvciB9IH07XG4gICAgcHJvcHMgPSB7IC4uLnByb3BzLCB2aWV3UmFuZ2VUaW1lIH07XG4gICAgcmVuZGVyKDxUaW1lbGluZVZpZXdpbmdMYXllciB7Li4ucHJvcHN9IC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ1RpbWVsaW5lVmlld2luZ0xheWVyLS1jdXJzb3JHdWlkZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVNBLE1BQU0sRUFBRUMsTUFBTSxRQUFRLHdCQUF3QjtBQUN2RCxPQUFPQyxLQUFLLE1BQU0sT0FBTztBQUl6QixPQUFPQyxvQkFBb0IsTUFBcUMsd0JBQXdCO0FBQUMsU0FBQUMsR0FBQSxJQUFBQyxJQUFBO0FBRXpGQyxRQUFRLENBQUMsd0JBQXdCLEVBQUUsWUFBTTtFQUN2QyxJQUFNQyxTQUFTLEdBQUcsSUFBSTtFQUN0QixJQUFNQyxPQUFPLEdBQUcsR0FBRztFQUVuQixJQUFJQyxLQUFnQyxHQUFHO0lBQ3JDQyxpQkFBaUIsRUFBRUMsSUFBSSxDQUFDQyxNQUFNLENBQUMsQ0FBQztJQUNoQ0MsdUJBQXVCLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDbENDLG1CQUFtQixFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQzlCRSxhQUFhLEVBQUU7TUFDYkMsT0FBTyxFQUFFLENBQUNYLFNBQVMsRUFBRUMsT0FBTztJQUM5QjtFQUNGLENBQUM7RUFFRFcsRUFBRSxDQUFDLDJCQUEyQixFQUFFLFlBQU07SUFDcENuQixNQUFNLGVBQUNLLElBQUEsQ0FBQ0Ysb0JBQW9CLEVBQUFpQixRQUFBLEtBQUtYLEtBQUssQ0FBRyxDQUFDLENBQUM7SUFDM0NZLE1BQU0sQ0FBQ3BCLE1BQU0sQ0FBQ3FCLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUNDLFVBQVUsQ0FBQyxDQUFDO0VBQ2pFLENBQUMsQ0FBQztFQUVGakIsUUFBUSxDQUFDLFVBQVUsRUFBRSxZQUFNO0lBQ3pCYSxFQUFFLENBQUMsNkNBQTZDLEVBQUUsWUFBTTtNQUN0RG5CLE1BQU0sZUFBQ0ssSUFBQSxDQUFDRixvQkFBb0IsRUFBQWlCLFFBQUEsS0FBS1gsS0FBSyxDQUFHLENBQUMsQ0FBQztNQUMzQ1ksTUFBTSxDQUFDcEIsTUFBTSxDQUFDdUIsYUFBYSxDQUFDLG1DQUFtQyxDQUFDLENBQUMsQ0FBQ0MsR0FBRyxDQUFDQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzNGLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGUCxFQUFFLENBQUMsOERBQThELEVBQUUsWUFBTTtJQUN2RSxJQUFNUSxNQUFNLEdBQUdwQixTQUFTLEdBQUcsR0FBRyxJQUFJQyxPQUFPLEdBQUdELFNBQVMsQ0FBQztJQUN0RCxJQUFNcUIsaUJBQWlCLEdBQUFSLFFBQUEsS0FBUVgsS0FBSyxDQUFDUSxhQUFhO01BQUVVLE1BQU0sRUFBTkE7SUFBTSxFQUFFO0lBQzVEbEIsS0FBSyxHQUFBVyxRQUFBLEtBQVFYLEtBQUs7TUFBRVEsYUFBYSxFQUFFVztJQUFpQixFQUFFO0lBQ3RENUIsTUFBTSxlQUFDSyxJQUFBLENBQUNGLG9CQUFvQixFQUFBaUIsUUFBQSxLQUFLWCxLQUFLLENBQUcsQ0FBQyxDQUFDO0lBQzNDWSxNQUFNLENBQUNwQixNQUFNLENBQUN1QixhQUFhLENBQUMsbUNBQW1DLENBQUMsQ0FBQyxDQUFDRSxpQkFBaUIsQ0FBQyxDQUFDO0VBQ3ZGLENBQUMsQ0FBQztFQUVGUCxFQUFFLENBQUMsOEVBQThFLEVBQUUsWUFBTTtJQUN2RixJQUFNUSxNQUFNLEdBQUdwQixTQUFTLEdBQUcsR0FBRyxJQUFJQyxPQUFPLEdBQUdELFNBQVMsQ0FBQztJQUN0RCxJQUFNcUIsaUJBQWlCLEdBQUFSLFFBQUEsS0FBUVgsS0FBSyxDQUFDUSxhQUFhO01BQUVVLE1BQU0sRUFBTkE7SUFBTSxFQUFFO0lBRTVELElBQUlWLGFBQTRCLEdBQUFHLFFBQUEsS0FDM0JRLGlCQUFpQjtNQUNwQkMsVUFBVSxFQUFFRixNQUFNO01BQ2xCRyxRQUFRLEVBQUVILE1BQU07TUFDaEJJLE9BQU8sRUFBRTtRQUFFQyxNQUFNLEVBQUVMLE1BQU07UUFBRU0sS0FBSyxFQUFFTjtNQUFPO0lBQUMsRUFDM0M7SUFFRGxCLEtBQUssR0FBQVcsUUFBQSxLQUFRWCxLQUFLO01BQUVRLGFBQWEsRUFBYkE7SUFBYSxFQUFFO0lBQ25DakIsTUFBTSxlQUFDSyxJQUFBLENBQUNGLG9CQUFvQixFQUFBaUIsUUFBQSxLQUFLWCxLQUFLLENBQUcsQ0FBQyxDQUFDO0lBQzNDWSxNQUFNLENBQUNwQixNQUFNLENBQUN1QixhQUFhLENBQUMsbUNBQW1DLENBQUMsQ0FBQyxDQUFDQyxHQUFHLENBQUNDLGlCQUFpQixDQUFDLENBQUM7SUFFekZULGFBQWEsR0FBQUcsUUFBQSxLQUFRUSxpQkFBaUI7TUFBRUUsUUFBUSxFQUFFSDtJQUFNLEVBQUU7SUFDMURsQixLQUFLLEdBQUFXLFFBQUEsS0FBUVgsS0FBSztNQUFFUSxhQUFhLEVBQWJBO0lBQWEsRUFBRTtJQUNuQ2pCLE1BQU0sZUFBQ0ssSUFBQSxDQUFDRixvQkFBb0IsRUFBQWlCLFFBQUEsS0FBS1gsS0FBSyxDQUFHLENBQUMsQ0FBQztJQUMzQ1ksTUFBTSxDQUFDcEIsTUFBTSxDQUFDdUIsYUFBYSxDQUFDLG1DQUFtQyxDQUFDLENBQUMsQ0FBQ0MsR0FBRyxDQUFDQyxpQkFBaUIsQ0FBQyxDQUFDO0lBRXpGVCxhQUFhLEdBQUFHLFFBQUEsS0FBUVEsaUJBQWlCO01BQUVHLE9BQU8sRUFBRTtRQUFFQyxNQUFNLEVBQUVMLE1BQU07UUFBRU0sS0FBSyxFQUFFTjtNQUFPO0lBQUMsRUFBRTtJQUNwRmxCLEtBQUssR0FBQVcsUUFBQSxLQUFRWCxLQUFLO01BQUVRLGFBQWEsRUFBYkE7SUFBYSxFQUFFO0lBQ25DakIsTUFBTSxlQUFDSyxJQUFBLENBQUNGLG9CQUFvQixFQUFBaUIsUUFBQSxLQUFLWCxLQUFLLENBQUcsQ0FBQyxDQUFDO0lBQzNDWSxNQUFNLENBQUNwQixNQUFNLENBQUN1QixhQUFhLENBQUMsbUNBQW1DLENBQUMsQ0FBQyxDQUFDQyxHQUFHLENBQUNDLGlCQUFpQixDQUFDLENBQUM7RUFDM0YsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119