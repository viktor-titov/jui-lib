import _extends from "@babel/runtime/helpers/extends";
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

import Chance from 'chance';
import { getSpanId } from '../selectors/span';
var chance = new Chance();
export var SERVICE_LIST = ['serviceA', 'serviceB', 'serviceC', 'serviceD', 'serviceE', 'serviceF'];
export var OPERATIONS_LIST = ['GET', 'PUT', 'POST', 'DELETE', 'MySQL::SELECT', 'MySQL::INSERT', 'MongoDB::find', 'MongoDB::update'];
function setupParentSpan(spans, parentSpanValues) {
  Object.assign(spans[0], parentSpanValues);
  return spans;
}
function getParentSpanId(span, levels) {
  var nestingLevel = chance.integer({
    min: 1,
    max: levels.length
  });

  // pick the correct nesting level if allocated by the levels calculation
  levels.forEach(function (level, idx) {
    if (level.indexOf(getSpanId(span)) >= 0) {
      nestingLevel = idx;
    }
  });
  return nestingLevel - 1 >= 0 ? chance.pickone(levels[nestingLevel - 1]) : null;
}

/* this simulates the hierarchy created by CHILD_OF tags */
function attachReferences(spans, depth, spansPerLevel) {
  var levels = [[getSpanId(spans[0])]];
  var duplicateLevelFilter = function duplicateLevelFilter(currentLevels) {
    return function (span) {
      return !currentLevels.find(function (level) {
        return level.indexOf(span.spanID) >= 0;
      });
    };
  };
  while (levels.length < depth) {
    var remainingSpans = spans.filter(duplicateLevelFilter(levels));
    if (remainingSpans.length <= 0) {
      break;
    }
    var newLevel = chance.pickset(remainingSpans, spansPerLevel || chance.integer({
      min: 4,
      max: 8
    })).map(getSpanId);
    levels.push(newLevel);
  }

  // filter out empty levels
  levels = levels.filter(function (level) {
    return level.length > 0;
  });
  return spans.map(function (span) {
    var parentSpanId = getParentSpanId(span, levels);
    return parentSpanId ? _extends({}, span, {
      references: [{
        refType: 'CHILD_OF',
        traceID: span.traceID,
        spanID: parentSpanId
      }]
    }) : span;
  });
}
export default chance.mixin({
  trace: function trace(_ref) {
    var _ref$numberOfSpans = _ref.numberOfSpans,
      numberOfSpans = _ref$numberOfSpans === void 0 ? chance.pickone([Math.ceil(chance.normal({
        mean: 200,
        dev: 10
      })) + 1, Math.ceil(chance.integer({
        min: 3,
        max: 10
      })), Math.ceil(chance.normal({
        mean: 45,
        dev: 15
      })) + 1]) : _ref$numberOfSpans,
      _ref$numberOfProcesse = _ref.numberOfProcesses,
      numberOfProcesses = _ref$numberOfProcesse === void 0 ? chance.integer({
        min: 1,
        max: 10
      }) : _ref$numberOfProcesse,
      _ref$maxDepth = _ref.maxDepth,
      maxDepth = _ref$maxDepth === void 0 ? chance.integer({
        min: 1,
        max: 10
      }) : _ref$maxDepth,
      _ref$spansPerLevel = _ref.spansPerLevel,
      spansPerLevel = _ref$spansPerLevel === void 0 ? null : _ref$spansPerLevel;
    var traceID = chance.guid();
    var duration = chance.integer({
      min: 10000,
      max: 5000000
    });
    var timestamp = (new Date().getTime() - chance.integer({
      min: 0,
      max: 1000
    }) * 1000) * 1000;
    var processArray = chance.processes({
      numberOfProcesses: numberOfProcesses
    });
    var processes = processArray.reduce(function (pMap, p) {
      var _extends2;
      return _extends({}, pMap, (_extends2 = {}, _extends2[p.processID] = p, _extends2));
    }, {});
    var spans = chance.n(chance.span, numberOfSpans, {
      traceID: traceID,
      processes: processes,
      traceStartTime: timestamp,
      traceEndTime: timestamp + duration
    });
    spans = attachReferences(spans, maxDepth, spansPerLevel);
    if (spans.length > 1) {
      // eslint-disable-next-line @typescript-eslint/consistent-type-assertions
      spans = setupParentSpan(spans, {
        startTime: timestamp,
        duration: duration
      });
    }
    return {
      traceID: traceID,
      spans: spans,
      processes: processes
    };
  },
  tag: function tag() {
    return {
      key: 'http.url',
      type: 'String',
      value: "/v2/" + chance.pickone(['alpha', 'beta', 'gamma']) + "/" + chance.guid()
    };
  },
  span: function span(_ref2) {
    var _ref2$traceID = _ref2.traceID,
      traceID = _ref2$traceID === void 0 ? chance.guid() : _ref2$traceID,
      _ref2$processes = _ref2.processes,
      processes = _ref2$processes === void 0 ? {} : _ref2$processes,
      _ref2$traceStartTime = _ref2.traceStartTime,
      traceStartTime = _ref2$traceStartTime === void 0 ? 0 : _ref2$traceStartTime,
      _ref2$traceEndTime = _ref2.traceEndTime,
      traceEndTime = _ref2$traceEndTime === void 0 ? 0 : _ref2$traceEndTime,
      _ref2$operations = _ref2.operations,
      operations = _ref2$operations === void 0 ? OPERATIONS_LIST : _ref2$operations;
    // Set default values for trace start/end time.
    traceStartTime = traceStartTime || chance.timestamp() * 1000 * 1000;
    traceEndTime = traceEndTime || traceStartTime + 100000;
    var startTime = chance.integer({
      min: traceStartTime,
      max: traceEndTime
    });
    var maxDuration = traceEndTime - startTime;
    return {
      traceID: traceID,
      processID: chance.pickone(Object.keys(processes)),
      spanID: chance.guid(),
      flags: 0,
      operationName: chance.pickone(operations),
      references: [],
      startTime: startTime,
      duration: chance.integer({
        min: 1,
        max: maxDuration <= 1 ? 2 : maxDuration
      }),
      tags: chance.tags(),
      logs: []
    };
  },
  process: function process(_ref3) {
    var _ref3$services = _ref3.services,
      services = _ref3$services === void 0 ? SERVICE_LIST : _ref3$services;
    return {
      processID: chance.guid(),
      serviceName: chance.pickone(services),
      tags: chance.tags()
    };
  },
  traces: function traces(_ref4) {
    var _ref4$numberOfTraces = _ref4.numberOfTraces,
      numberOfTraces = _ref4$numberOfTraces === void 0 ? chance.integer({
        min: 5,
        max: 15
      }) : _ref4$numberOfTraces;
    return chance.n(chance.trace, numberOfTraces, {});
  },
  tags: function tags() {
    return chance.n(chance.tag, chance.integer({
      min: 1,
      max: 10
    }), {});
  },
  processes: function processes(_ref5) {
    var _ref5$numberOfProcess = _ref5.numberOfProcesses,
      numberOfProcesses = _ref5$numberOfProcess === void 0 ? chance.integer({
        min: 1,
        max: 25
      }) : _ref5$numberOfProcess;
    return chance.n(chance.process, numberOfProcesses, {});
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDaGFuY2UiLCJnZXRTcGFuSWQiLCJjaGFuY2UiLCJTRVJWSUNFX0xJU1QiLCJPUEVSQVRJT05TX0xJU1QiLCJzZXR1cFBhcmVudFNwYW4iLCJzcGFucyIsInBhcmVudFNwYW5WYWx1ZXMiLCJPYmplY3QiLCJhc3NpZ24iLCJnZXRQYXJlbnRTcGFuSWQiLCJzcGFuIiwibGV2ZWxzIiwibmVzdGluZ0xldmVsIiwiaW50ZWdlciIsIm1pbiIsIm1heCIsImxlbmd0aCIsImZvckVhY2giLCJsZXZlbCIsImlkeCIsImluZGV4T2YiLCJwaWNrb25lIiwiYXR0YWNoUmVmZXJlbmNlcyIsImRlcHRoIiwic3BhbnNQZXJMZXZlbCIsImR1cGxpY2F0ZUxldmVsRmlsdGVyIiwiY3VycmVudExldmVscyIsImZpbmQiLCJzcGFuSUQiLCJyZW1haW5pbmdTcGFucyIsImZpbHRlciIsIm5ld0xldmVsIiwicGlja3NldCIsIm1hcCIsInB1c2giLCJwYXJlbnRTcGFuSWQiLCJfZXh0ZW5kcyIsInJlZmVyZW5jZXMiLCJyZWZUeXBlIiwidHJhY2VJRCIsIm1peGluIiwidHJhY2UiLCJfcmVmIiwiX3JlZiRudW1iZXJPZlNwYW5zIiwibnVtYmVyT2ZTcGFucyIsIk1hdGgiLCJjZWlsIiwibm9ybWFsIiwibWVhbiIsImRldiIsIl9yZWYkbnVtYmVyT2ZQcm9jZXNzZSIsIm51bWJlck9mUHJvY2Vzc2VzIiwiX3JlZiRtYXhEZXB0aCIsIm1heERlcHRoIiwiX3JlZiRzcGFuc1BlckxldmVsIiwiZ3VpZCIsImR1cmF0aW9uIiwidGltZXN0YW1wIiwiRGF0ZSIsImdldFRpbWUiLCJwcm9jZXNzQXJyYXkiLCJwcm9jZXNzZXMiLCJyZWR1Y2UiLCJwTWFwIiwicCIsIl9leHRlbmRzMiIsInByb2Nlc3NJRCIsIm4iLCJ0cmFjZVN0YXJ0VGltZSIsInRyYWNlRW5kVGltZSIsInN0YXJ0VGltZSIsInRhZyIsImtleSIsInR5cGUiLCJ2YWx1ZSIsIl9yZWYyIiwiX3JlZjIkdHJhY2VJRCIsIl9yZWYyJHByb2Nlc3NlcyIsIl9yZWYyJHRyYWNlU3RhcnRUaW1lIiwiX3JlZjIkdHJhY2VFbmRUaW1lIiwiX3JlZjIkb3BlcmF0aW9ucyIsIm9wZXJhdGlvbnMiLCJtYXhEdXJhdGlvbiIsImtleXMiLCJmbGFncyIsIm9wZXJhdGlvbk5hbWUiLCJ0YWdzIiwibG9ncyIsInByb2Nlc3MiLCJfcmVmMyIsIl9yZWYzJHNlcnZpY2VzIiwic2VydmljZXMiLCJzZXJ2aWNlTmFtZSIsInRyYWNlcyIsIl9yZWY0IiwiX3JlZjQkbnVtYmVyT2ZUcmFjZXMiLCJudW1iZXJPZlRyYWNlcyIsIl9yZWY1IiwiX3JlZjUkbnVtYmVyT2ZQcm9jZXNzIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9kZW1vL3RyYWNlLWdlbmVyYXRvcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDE3IFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCBDaGFuY2UgZnJvbSAnY2hhbmNlJztcbmltcG9ydCB7IFRyYWNlU3BhbkRhdGEsIFRyYWNlUHJvY2VzcyB9IGZyb20gJy4uL3R5cGVzL3RyYWNlJztcblxuaW1wb3J0IHsgZ2V0U3BhbklkIH0gZnJvbSAnLi4vc2VsZWN0b3JzL3NwYW4nO1xuXG5jb25zdCBjaGFuY2UgPSBuZXcgQ2hhbmNlKCk7XG5cbmV4cG9ydCBjb25zdCBTRVJWSUNFX0xJU1QgPSBbJ3NlcnZpY2VBJywgJ3NlcnZpY2VCJywgJ3NlcnZpY2VDJywgJ3NlcnZpY2VEJywgJ3NlcnZpY2VFJywgJ3NlcnZpY2VGJ107XG5leHBvcnQgY29uc3QgT1BFUkFUSU9OU19MSVNUID0gW1xuICAnR0VUJyxcbiAgJ1BVVCcsXG4gICdQT1NUJyxcbiAgJ0RFTEVURScsXG4gICdNeVNRTDo6U0VMRUNUJyxcbiAgJ015U1FMOjpJTlNFUlQnLFxuICAnTW9uZ29EQjo6ZmluZCcsXG4gICdNb25nb0RCOjp1cGRhdGUnLFxuXTtcblxudHlwZSBQcm9jZXNzID0gVHJhY2VQcm9jZXNzICYge1xuICBwcm9jZXNzSUQ6IHN0cmluZztcbn07XG5cbmZ1bmN0aW9uIHNldHVwUGFyZW50U3BhbihzcGFuczogVHJhY2VTcGFuRGF0YVtdLCBwYXJlbnRTcGFuVmFsdWVzOiBUcmFjZVNwYW5EYXRhKSB7XG4gIE9iamVjdC5hc3NpZ24oc3BhbnNbMF0sIHBhcmVudFNwYW5WYWx1ZXMpO1xuICByZXR1cm4gc3BhbnM7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmVudFNwYW5JZChzcGFuOiBUcmFjZVNwYW5EYXRhLCBsZXZlbHM6IHN0cmluZ1tdW10pIHtcbiAgbGV0IG5lc3RpbmdMZXZlbCA9IGNoYW5jZS5pbnRlZ2VyKHsgbWluOiAxLCBtYXg6IGxldmVscy5sZW5ndGggfSk7XG5cbiAgLy8gcGljayB0aGUgY29ycmVjdCBuZXN0aW5nIGxldmVsIGlmIGFsbG9jYXRlZCBieSB0aGUgbGV2ZWxzIGNhbGN1bGF0aW9uXG4gIGxldmVscy5mb3JFYWNoKChsZXZlbCwgaWR4KSA9PiB7XG4gICAgaWYgKGxldmVsLmluZGV4T2YoZ2V0U3BhbklkKHNwYW4pKSA+PSAwKSB7XG4gICAgICBuZXN0aW5nTGV2ZWwgPSBpZHg7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gbmVzdGluZ0xldmVsIC0gMSA+PSAwID8gY2hhbmNlLnBpY2tvbmUobGV2ZWxzW25lc3RpbmdMZXZlbCAtIDFdKSA6IG51bGw7XG59XG5cbi8qIHRoaXMgc2ltdWxhdGVzIHRoZSBoaWVyYXJjaHkgY3JlYXRlZCBieSBDSElMRF9PRiB0YWdzICovXG5mdW5jdGlvbiBhdHRhY2hSZWZlcmVuY2VzKHNwYW5zOiBUcmFjZVNwYW5EYXRhW10sIGRlcHRoOiBudW1iZXIsIHNwYW5zUGVyTGV2ZWw6IG51bGwpIHtcbiAgbGV0IGxldmVsczogc3RyaW5nW11bXSA9IFtbZ2V0U3BhbklkKHNwYW5zWzBdKV1dO1xuXG4gIGNvbnN0IGR1cGxpY2F0ZUxldmVsRmlsdGVyID0gKGN1cnJlbnRMZXZlbHM6IHN0cmluZ1tdW10pID0+IChzcGFuOiBUcmFjZVNwYW5EYXRhKSA9PlxuICAgICFjdXJyZW50TGV2ZWxzLmZpbmQoKGxldmVsKSA9PiBsZXZlbC5pbmRleE9mKHNwYW4uc3BhbklEKSA+PSAwKTtcblxuICB3aGlsZSAobGV2ZWxzLmxlbmd0aCA8IGRlcHRoKSB7XG4gICAgY29uc3QgcmVtYWluaW5nU3BhbnMgPSBzcGFucy5maWx0ZXIoZHVwbGljYXRlTGV2ZWxGaWx0ZXIobGV2ZWxzKSk7XG4gICAgaWYgKHJlbWFpbmluZ1NwYW5zLmxlbmd0aCA8PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBjb25zdCBuZXdMZXZlbCA9IGNoYW5jZS5waWNrc2V0KHJlbWFpbmluZ1NwYW5zLCBzcGFuc1BlckxldmVsIHx8IGNoYW5jZS5pbnRlZ2VyKHsgbWluOiA0LCBtYXg6IDggfSkpLm1hcChnZXRTcGFuSWQpO1xuICAgIGxldmVscy5wdXNoKG5ld0xldmVsKTtcbiAgfVxuXG4gIC8vIGZpbHRlciBvdXQgZW1wdHkgbGV2ZWxzXG4gIGxldmVscyA9IGxldmVscy5maWx0ZXIoKGxldmVsKSA9PiBsZXZlbC5sZW5ndGggPiAwKTtcblxuICByZXR1cm4gc3BhbnMubWFwKChzcGFuKSA9PiB7XG4gICAgY29uc3QgcGFyZW50U3BhbklkID0gZ2V0UGFyZW50U3BhbklkKHNwYW4sIGxldmVscyk7XG4gICAgcmV0dXJuIHBhcmVudFNwYW5JZFxuICAgICAgPyB7XG4gICAgICAgICAgLi4uc3BhbixcbiAgICAgICAgICByZWZlcmVuY2VzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJlZlR5cGU6ICdDSElMRF9PRicsXG4gICAgICAgICAgICAgIHRyYWNlSUQ6IHNwYW4udHJhY2VJRCxcbiAgICAgICAgICAgICAgc3BhbklEOiBwYXJlbnRTcGFuSWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgIDogc3BhbjtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNoYW5jZS5taXhpbih7XG4gIHRyYWNlKHtcbiAgICAvLyBsb25nIHRyYWNlXG4gICAgLy8gdmVyeSBzaG9ydCB0cmFjZVxuICAgIC8vIGF2ZXJhZ2UgY2FzZVxuICAgIG51bWJlck9mU3BhbnMgPSBjaGFuY2UucGlja29uZShbXG4gICAgICBNYXRoLmNlaWwoY2hhbmNlLm5vcm1hbCh7IG1lYW46IDIwMCwgZGV2OiAxMCB9KSkgKyAxLFxuICAgICAgTWF0aC5jZWlsKGNoYW5jZS5pbnRlZ2VyKHsgbWluOiAzLCBtYXg6IDEwIH0pKSxcbiAgICAgIE1hdGguY2VpbChjaGFuY2Uubm9ybWFsKHsgbWVhbjogNDUsIGRldjogMTUgfSkpICsgMSxcbiAgICBdKSxcbiAgICBudW1iZXJPZlByb2Nlc3NlcyA9IGNoYW5jZS5pbnRlZ2VyKHsgbWluOiAxLCBtYXg6IDEwIH0pLFxuICAgIG1heERlcHRoID0gY2hhbmNlLmludGVnZXIoeyBtaW46IDEsIG1heDogMTAgfSksXG4gICAgc3BhbnNQZXJMZXZlbCA9IG51bGwsXG4gIH0pIHtcbiAgICBjb25zdCB0cmFjZUlEID0gY2hhbmNlLmd1aWQoKTtcbiAgICBjb25zdCBkdXJhdGlvbjogbnVtYmVyID0gY2hhbmNlLmludGVnZXIoeyBtaW46IDEwMDAwLCBtYXg6IDUwMDAwMDAgfSk7XG4gICAgY29uc3QgdGltZXN0YW1wID0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gY2hhbmNlLmludGVnZXIoeyBtaW46IDAsIG1heDogMTAwMCB9KSAqIDEwMDApICogMTAwMDtcblxuICAgIGNvbnN0IHByb2Nlc3NBcnJheTogUHJvY2Vzc1tdID0gY2hhbmNlLnByb2Nlc3Nlcyh7IG51bWJlck9mUHJvY2Vzc2VzIH0pO1xuICAgIGNvbnN0IHByb2Nlc3NlcyA9IHByb2Nlc3NBcnJheS5yZWR1Y2UoKHBNYXAsIHApID0+ICh7IC4uLnBNYXAsIFtwLnByb2Nlc3NJRF06IHAgfSksIHt9KTtcblxuICAgIGxldCBzcGFucyA9IGNoYW5jZS5uKGNoYW5jZS5zcGFuLCBudW1iZXJPZlNwYW5zLCB7XG4gICAgICB0cmFjZUlELFxuICAgICAgcHJvY2Vzc2VzLFxuICAgICAgdHJhY2VTdGFydFRpbWU6IHRpbWVzdGFtcCxcbiAgICAgIHRyYWNlRW5kVGltZTogdGltZXN0YW1wICsgZHVyYXRpb24sXG4gICAgfSk7XG4gICAgc3BhbnMgPSBhdHRhY2hSZWZlcmVuY2VzKHNwYW5zLCBtYXhEZXB0aCwgc3BhbnNQZXJMZXZlbCk7XG4gICAgaWYgKHNwYW5zLmxlbmd0aCA+IDEpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICAgIHNwYW5zID0gc2V0dXBQYXJlbnRTcGFuKHNwYW5zLCB7IHN0YXJ0VGltZTogdGltZXN0YW1wLCBkdXJhdGlvbiB9IGFzIFRyYWNlU3BhbkRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0cmFjZUlELFxuICAgICAgc3BhbnMsXG4gICAgICBwcm9jZXNzZXMsXG4gICAgfTtcbiAgfSxcbiAgdGFnKCkge1xuICAgIHJldHVybiB7XG4gICAgICBrZXk6ICdodHRwLnVybCcsXG4gICAgICB0eXBlOiAnU3RyaW5nJyxcbiAgICAgIHZhbHVlOiBgL3YyLyR7Y2hhbmNlLnBpY2tvbmUoWydhbHBoYScsICdiZXRhJywgJ2dhbW1hJ10pfS8ke2NoYW5jZS5ndWlkKCl9YCxcbiAgICB9O1xuICB9LFxuICBzcGFuKHtcbiAgICB0cmFjZUlEID0gY2hhbmNlLmd1aWQoKSxcbiAgICBwcm9jZXNzZXMgPSB7fSxcbiAgICB0cmFjZVN0YXJ0VGltZSA9IDAsXG4gICAgdHJhY2VFbmRUaW1lID0gMCxcbiAgICBvcGVyYXRpb25zID0gT1BFUkFUSU9OU19MSVNULFxuICB9KSB7XG4gICAgLy8gU2V0IGRlZmF1bHQgdmFsdWVzIGZvciB0cmFjZSBzdGFydC9lbmQgdGltZS5cbiAgICB0cmFjZVN0YXJ0VGltZSA9IHRyYWNlU3RhcnRUaW1lIHx8IGNoYW5jZS50aW1lc3RhbXAoKSAqIDEwMDAgKiAxMDAwO1xuICAgIHRyYWNlRW5kVGltZSA9IHRyYWNlRW5kVGltZSB8fCB0cmFjZVN0YXJ0VGltZSArIDEwMDAwMDtcblxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IGNoYW5jZS5pbnRlZ2VyKHtcbiAgICAgIG1pbjogdHJhY2VTdGFydFRpbWUsXG4gICAgICBtYXg6IHRyYWNlRW5kVGltZSxcbiAgICB9KTtcblxuICAgIGNvbnN0IG1heER1cmF0aW9uID0gdHJhY2VFbmRUaW1lIC0gc3RhcnRUaW1lO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYWNlSUQsXG4gICAgICBwcm9jZXNzSUQ6IGNoYW5jZS5waWNrb25lKE9iamVjdC5rZXlzKHByb2Nlc3NlcykpLFxuICAgICAgc3BhbklEOiBjaGFuY2UuZ3VpZCgpLFxuICAgICAgZmxhZ3M6IDAsXG4gICAgICBvcGVyYXRpb25OYW1lOiBjaGFuY2UucGlja29uZShvcGVyYXRpb25zKSxcbiAgICAgIHJlZmVyZW5jZXM6IFtdLFxuICAgICAgc3RhcnRUaW1lLFxuICAgICAgZHVyYXRpb246IGNoYW5jZS5pbnRlZ2VyKHsgbWluOiAxLCBtYXg6IG1heER1cmF0aW9uIDw9IDEgPyAyIDogbWF4RHVyYXRpb24gfSksXG4gICAgICB0YWdzOiBjaGFuY2UudGFncygpLFxuICAgICAgbG9nczogW10sXG4gICAgfTtcbiAgfSxcbiAgcHJvY2Vzcyh7IHNlcnZpY2VzID0gU0VSVklDRV9MSVNUIH0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvY2Vzc0lEOiBjaGFuY2UuZ3VpZCgpLFxuICAgICAgc2VydmljZU5hbWU6IGNoYW5jZS5waWNrb25lKHNlcnZpY2VzKSxcbiAgICAgIHRhZ3M6IGNoYW5jZS50YWdzKCksXG4gICAgfTtcbiAgfSxcbiAgdHJhY2VzKHsgbnVtYmVyT2ZUcmFjZXMgPSBjaGFuY2UuaW50ZWdlcih7IG1pbjogNSwgbWF4OiAxNSB9KSB9KSB7XG4gICAgcmV0dXJuIGNoYW5jZS5uKGNoYW5jZS50cmFjZSwgbnVtYmVyT2ZUcmFjZXMsIHt9KTtcbiAgfSxcbiAgdGFncygpIHtcbiAgICByZXR1cm4gY2hhbmNlLm4oY2hhbmNlLnRhZywgY2hhbmNlLmludGVnZXIoeyBtaW46IDEsIG1heDogMTAgfSksIHt9KTtcbiAgfSxcbiAgcHJvY2Vzc2VzKHsgbnVtYmVyT2ZQcm9jZXNzZXMgPSBjaGFuY2UuaW50ZWdlcih7IG1pbjogMSwgbWF4OiAyNSB9KSB9KSB7XG4gICAgcmV0dXJuIGNoYW5jZS5uKGNoYW5jZS5wcm9jZXNzLCBudW1iZXJPZlByb2Nlc3Nlcywge30pO1xuICB9LFxufSk7XG4iXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxP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