// Copyright (c) 2017 The Jaeger Authors.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * Searches the span.references to find 'CHILD_OF' reference type or returns null.
 * @param  {TraceSpan} span The span whose parent is to be returned.
 * @returns {TraceSpan|null} The parent span if there is one, null otherwise.
 */
export function getParent(span) {
  var parentRef = span.references ? span.references.find(function (ref) {
    return ref.refType === 'CHILD_OF';
  }) : null;
  return parentRef ? parentRef.span : null;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRQYXJlbnQiLCJzcGFuIiwicGFyZW50UmVmIiwicmVmZXJlbmNlcyIsImZpbmQiLCJyZWYiLCJyZWZUeXBlIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9tb2RlbC9zcGFuLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIEphZWdlciBBdXRob3JzLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgeyBUcmFjZVNwYW4gfSBmcm9tICcuLi90eXBlcy90cmFjZSc7XG5cbi8qKlxuICogU2VhcmNoZXMgdGhlIHNwYW4ucmVmZXJlbmNlcyB0byBmaW5kICdDSElMRF9PRicgcmVmZXJlbmNlIHR5cGUgb3IgcmV0dXJucyBudWxsLlxuICogQHBhcmFtICB7VHJhY2VTcGFufSBzcGFuIFRoZSBzcGFuIHdob3NlIHBhcmVudCBpcyB0byBiZSByZXR1cm5lZC5cbiAqIEByZXR1cm5zIHtUcmFjZVNwYW58bnVsbH0gVGhlIHBhcmVudCBzcGFuIGlmIHRoZXJlIGlzIG9uZSwgbnVsbCBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnQoc3BhbjogVHJhY2VTcGFuKSB7XG4gIGNvbnN0IHBhcmVudFJlZiA9IHNwYW4ucmVmZXJlbmNlcyA/IHNwYW4ucmVmZXJlbmNlcy5maW5kKChyZWYpID0+IHJlZi5yZWZUeXBlID09PSAnQ0hJTERfT0YnKSA6IG51bGw7XG4gIHJldHVybiBwYXJlbnRSZWYgPyBwYXJlbnRSZWYuc3BhbiA6IG51bGw7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLFNBQVNBLFNBQVNBLENBQUNDLElBQWUsRUFBRTtFQUN6QyxJQUFNQyxTQUFTLEdBQUdELElBQUksQ0FBQ0UsVUFBVSxHQUFHRixJQUFJLENBQUNFLFVBQVUsQ0FBQ0MsSUFBSSxDQUFDLFVBQUNDLEdBQUc7SUFBQSxPQUFLQSxHQUFHLENBQUNDLE9BQU8sS0FBSyxVQUFVO0VBQUEsRUFBQyxHQUFHLElBQUk7RUFDcEcsT0FBT0osU0FBUyxHQUFHQSxTQUFTLENBQUNELElBQUksR0FBRyxJQUFJO0FBQzFDIiwiaWdub3JlTGlzdCI6W119